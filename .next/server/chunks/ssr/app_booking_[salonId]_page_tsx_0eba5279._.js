module.exports=[58828,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(94134),f=a.i(68377),g=a.i(41675),h=a.i(41710),i=a.i(24987),j=a.i(16201),k=a.i(46842),l=a.i(13749),m=a.i(43108),n=a.i(81010),o=a.i(44494),p=a.i(69292),q=a.i(74830),r=a.i(45222),s=a.i(40784),t=a.i(81560),u=a.i(38632),v=a.i(87532),w=a.i(24569),x=a.i(21374);let y=({rating:a,editable:c=!1,onRate:d,size:e=20,showCount:f=!1,count:g=0})=>{let h=[];for(let f=1;f<=5;f++){let g=f<=a,i=!g&&f-.5<=a;h.push((0,b.jsx)("button",{type:"button",disabled:!c,onClick:()=>c&&d&&d(f),className:`${c?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"} focus:outline-none`,children:g?(0,b.jsx)(x.Star,{size:e,className:"fill-yellow-400 text-yellow-400"}):i?(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(x.Star,{size:e,className:"text-gray-300"}),(0,b.jsx)("div",{className:"absolute top-0 left-0 overflow-hidden w-1/2",children:(0,b.jsx)(x.Star,{size:e,className:"fill-yellow-400 text-yellow-400"})})]}):(0,b.jsx)(x.Star,{size:e,className:"text-gray-300"})},f))}return(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[h,f&&(0,b.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["(",g,")"]})]})},z=({reviews:a})=>{if(!a||0===a.length)return(0,b.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Ainda não há avaliações. Seja o primeiro a avaliar!"})});let c=[...a].sort((a,b)=>new Date(b.date).getTime()-new Date(a.date).getTime());return(0,b.jsx)("div",{className:"space-y-4",children:c.map(a=>(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:a.clientName}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:new Date(a.date).toLocaleDateString()})]}),(0,b.jsx)(y,{rating:a.rating,size:16})]}),(0,b.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:a.comment})]},a.id))})},A=(0,a.i(70106).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),B=({isOpen:a,onClose:d,salonName:e,serviceName:g,date:h,onJoin:i})=>{let[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("");return(0,b.jsx)(f.Modal,{isOpen:a,onClose:d,title:"Entrar na Lista de Espera",children:(0,b.jsxs)("div",{className:"space-y-4 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto text-brand-600 mb-2",children:(0,b.jsx)(A,{className:"w-8 h-8"})}),(0,b.jsxs)("p",{className:"text-gray-600",children:["O horário desejado para ",(0,b.jsx)("strong",{children:g})," em ",(0,b.jsx)("strong",{children:e})," está indisponível?"]}),(0,b.jsx)("div",{className:"bg-amber-50 text-amber-800 p-3 rounded-lg text-sm font-medium",children:"Seja avisado assim que vagar!"}),(0,b.jsxs)("div",{className:"space-y-3 text-left",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Seu Telefone"}),(0,b.jsx)(f.Input,{placeholder:"(11) 99999-9999",value:j,onChange:a=>k(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"E-mail (Opcional)"}),(0,b.jsx)(f.Input,{placeholder:"seu@email.com",value:l,onChange:a=>m(a.target.value)})]})]}),(0,b.jsx)(f.Button,{className:"w-full py-3",onClick:()=>{j&&(i(j,l),d())},children:"Quero ser avisado"})]})})},C=({salonId:a,professionalId:d,fromPortal:y,clientPhone:A,onBack:C,onAdminAccess:D})=>{let{salons:E,addAppointment:F,saveClient:G,getClientByPhone:H}=(0,e.useStore)(),I=E.find(b=>b.id===a),[J,K]=(0,c.useState)(+!!y),[L,M]=(0,c.useState)("home"),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),[V,W]=(0,c.useState)(!1),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)(""),[_,aa]=(0,c.useState)(""),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(!1),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)(!1),[al,am]=(0,c.useState)(!1),[an,ao]=(0,c.useState)(""),[ap,aq]=(0,c.useState)([]),[ar,as]=(0,c.useState)(!1),[at,au]=(0,c.useState)(0),[av,aw]=(0,c.useState)(""),ax=(0,c.useRef)(null);if((0,c.useEffect)(()=>{if(d&&I){let a=I.professionals.find(a=>a.id===d);a&&Q(a)}if(y&&A){$(A);let a=H(A);a&&(aa(a.name),ac(a.birthDate),ag(!0),ae(!1))}},[d,I,y,A]),(0,c.useEffect)(()=>{if(3===J&&(af||y&&!ah)){let a=setTimeout(()=>{ax.current?.scrollIntoView({behavior:"smooth",block:"center"})},300);return()=>clearTimeout(a)}},[af,y,ah,J]),!I)return(0,b.jsx)("div",{children:"Salão não encontrado"});let ay=I.products?.filter(a=>a.isForSale&&a.quantity>0)||[],az=X.reduce((a,b)=>a+(b.salePrice||0),0),aA=(N?.price||0)+az,aB=(()=>{if(!R||!I.openTime||!I.closeTime)return[];let a=60*parseInt(I.openTime.split(":")[0])+parseInt(I.openTime.split(":")[1]),b=60*parseInt(I.closeTime.split(":")[0])+parseInt(I.closeTime.split(":")[1]),c=I.slotInterval||30,d=N?N.durationMinutes:c,e=new Date,f=e.getFullYear(),g=String(e.getMonth()+1).padStart(2,"0"),h=String(e.getDate()).padStart(2,"0"),i=R===`${f}-${g}-${h}`,j=60*e.getHours()+e.getMinutes(),k=[];for(let e=a;e<b;e+=c)if(!(i&&e<=j+15||e+d>b||I.blockedPeriods?.some(a=>a.date===R&&(!a.professionalId||a.professionalId===P?.id)))&&!I.appointments.some(a=>{if("cancelled"===a.status||P&&a.professionalId!==P.id||!a.date.startsWith(R))return!1;let b=new Date(a.date),c=60*b.getHours()+b.getMinutes(),f=I.services.find(b=>b.id===a.serviceId),g=c+(f?f.durationMinutes:I.slotInterval||30),h=e+d;return e<g&&h>c})){let a=Math.floor(e/60),b=e%60,c=`${a.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`;k.push(c)}return k})();(0,c.useEffect)(()=>{(!y||ah)&&(()=>{let a=Z.replace(/\D/g,"");if(a.length>=8){let b=H(a);b?(aa(b.name),ac(b.birthDate),ae(!1),ag(!0)):a.length>=10&&(ae(!0),ag(!0))}})()},[Z,ah]);let aC=(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 shadow-sm z-30 relative",children:[J>0&&J<4&&!y||J>1&&y?(0,b.jsx)("button",{onClick:()=>K(J-1),className:"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100",children:(0,b.jsx)(l.ChevronLeft,{className:"w-6 h-6"})}):y?(0,b.jsx)("button",{onClick:C,className:"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100",children:(0,b.jsx)(l.ChevronLeft,{className:"w-6 h-6"})}):(0,b.jsx)("div",{className:"w-10"}),!y&&(0,b.jsxs)("button",{className:"relative flex-shrink-0 group",onClick:()=>D(I.id),title:"Acesso do Proprietário",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-brand-100 rounded-full overflow-hidden border-2 border-white shadow-md",children:I.coverImage?(0,b.jsx)("img",{src:I.coverImage,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-brand-600 font-bold text-lg",children:I.name[0]})}),(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 z-50",children:(0,b.jsx)("div",{className:"bg-white rounded-full p-0.5 shadow-lg border border-gray-100",children:(0,b.jsx)("div",{className:"bg-gray-900 p-1.5 rounded-full hover:bg-black transition-colors",children:(0,b.jsx)(m.Lock,{className:"w-3 h-3 text-white"})})})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h1",{className:"font-bold text-gray-900 truncate text-base leading-tight",children:I.name}),y&&(0,b.jsx)("span",{className:"text-xs text-brand-600 font-bold",children:"Agendamento"}),P&&J>0&&J<4&&(0,b.jsxs)("div",{className:"text-xs font-bold text-brand-600 flex items-center gap-1 animate-pulse",children:["Agendando com ",P.name]})]})]});return(0,b.jsx)(f.AppShell,{header:J>0?aC:void 0,bottomNav:y?(0,b.jsxs)(f.MobileNav,{children:[(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(n.Home,{}),label:"Home",onClick:C}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(g.Calendar,{}),label:"Agenda",active:!0,onClick:()=>{}}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(k.User,{}),label:"Perfil",onClick:C})]}):(0,b.jsxs)(f.MobileNav,{children:[(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(n.Home,{}),label:"Início",active:0===J&&"home"===L,onClick:()=>{K(0),M("home")}}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(u.Image,{}),label:"Galeria",active:0===J&&"gallery"===L,onClick:()=>{K(0),M("gallery")}}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(x.Star,{}),label:"Avaliações",active:0===J&&"reviews"===L,onClick:()=>{K(0),M("reviews")}}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(g.Calendar,{}),label:"Agendar",active:J>0,onClick:()=>{0===J&&K(1)}})]}),children:(0,b.jsxs)("div",{className:`flex flex-col min-h-full ${0===J?"bg-gray-50":"p-4"}`,children:[0===J&&(0,b.jsxs)("div",{className:"animate-in fade-in duration-500",children:["home"===L&&(0,b.jsxs)("div",{className:"space-y-6 pb-24",children:[(0,b.jsxs)("div",{className:"relative w-full h-72",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gray-900",children:(0,b.jsx)("img",{src:I.coverImage||`https://picsum.photos/seed/${I.id}/800/800`,className:"w-full h-full object-cover opacity-80"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[(0,b.jsx)(f.Badge,{color:"green",className:"mb-2 bg-green-500/20 text-green-100 border border-green-500/30 backdrop-blur-md",children:"Aberto Agora"}),(0,b.jsx)("h1",{className:"text-3xl font-bold mb-1 shadow-sm",children:I.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-200 flex items-center gap-1 opacity-90",children:[(0,b.jsx)(i.MapPin,{className:"w-4 h-4"})," ",I.address]})]})]}),(0,b.jsxs)("div",{className:"px-4 -mt-6 relative z-10",children:[(0,b.jsx)(f.Button,{className:"w-full py-4 text-lg font-bold shadow-xl shadow-brand-500/30 mb-6",onClick:()=>K(1),children:"Agendar Agora"}),(0,b.jsxs)(f.Card,{className:"mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Bem-vindo"}),(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed text-sm",children:I.aboutUs||"Bem-vindo ao nosso espaço! Oferecemos os melhores serviços para cuidar da sua beleza e bem-estar."})]}),(0,b.jsxs)("div",{onClick:()=>ak(!0),className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-center justify-between cursor-pointer active:scale-[0.98] transition-transform",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,b.jsx)(v.Search,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-blue-900 text-sm",children:"Meus Agendamentos"}),(0,b.jsx)("div",{className:"text-xs text-blue-600",children:"Esqueceu o horário? Consulte aqui."})]})]}),(0,b.jsx)("div",{className:"bg-white p-1 rounded-full text-blue-500",children:(0,b.jsx)(l.ChevronLeft,{className:"w-4 h-4 rotate-180"})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[I.socials?.whatsapp&&(0,b.jsxs)("a",{href:`https://wa.me/${I.socials.whatsapp}`,target:"_blank",className:"bg-green-50 p-3 rounded-xl flex flex-col items-center gap-1 text-green-700 hover:bg-green-100 transition-colors",children:[(0,b.jsx)(r.MessageCircle,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Whats"})]}),I.socials?.instagram&&(0,b.jsxs)("a",{href:`https://instagram.com/${I.socials.instagram.replace("@","")}`,target:"_blank",className:"bg-purple-50 p-3 rounded-xl flex flex-col items-center gap-1 text-purple-700 hover:bg-purple-100 transition-colors",children:[(0,b.jsx)(p.Instagram,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Insta"})]}),I.socials?.facebook&&(0,b.jsxs)("a",{href:I.socials.facebook,target:"_blank",className:"bg-blue-50 p-3 rounded-xl flex flex-col items-center gap-1 text-blue-700 hover:bg-blue-100 transition-colors",children:[(0,b.jsx)(q.Facebook,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Face"})]}),I.socials?.website&&(0,b.jsxs)("a",{href:I.socials.website,target:"_blank",className:"bg-gray-50 p-3 rounded-xl flex flex-col items-center gap-1 text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)(o.Globe,{className:"w-6 h-6"}),(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Site"})]})]})]})]}),"reviews"===L&&(0,b.jsxs)("div",{className:"space-y-4 p-4 pb-24",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"O que dizem sobre nós"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-gray-900 flex items-center gap-1",children:["4.8 ",(0,b.jsx)(x.Star,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})]}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[I.reviews?.length||0," avaliações"]})]})]}),(0,b.jsx)(z,{reviews:I.reviews||[]}),(0,b.jsxs)("div",{className:"bg-brand-50 p-4 rounded-xl text-center mt-6",children:[(0,b.jsx)("p",{className:"font-bold text-brand-800 mb-2",children:"Já é nosso cliente?"}),(0,b.jsx)(f.Button,{variant:"outline",className:"w-full bg-white",onClick:()=>as(!0),children:"Avaliar Experiência"})]})]}),"gallery"===L&&(0,b.jsxs)("div",{className:"space-y-4 p-4 pb-24",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Galeria"}),I.gallery&&I.gallery.length>0?(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:I.gallery.map((a,c)=>(0,b.jsx)("div",{className:"aspect-square rounded-xl overflow-hidden bg-gray-100",children:(0,b.jsx)("img",{src:a,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},c))}):(0,b.jsxs)("div",{className:"text-center py-10 text-gray-400 bg-gray-50 rounded-xl",children:[(0,b.jsx)(u.Image,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,b.jsx)("p",{children:"Nenhuma foto na galeria."})]})]}),"about"===L&&(0,b.jsxs)("div",{className:"space-y-6 p-4 pb-24",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sobre Nós"}),(0,b.jsx)("p",{className:"text-gray-600 leading-relaxed text-sm",children:I.aboutUs||"Descrição não informada."})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,b.jsx)(i.MapPin,{className:"w-4 h-4 text-brand-500"})," Endereço"]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:I.address}),(0,b.jsx)("div",{className:"mt-3 h-32 bg-gray-200 rounded-lg w-full flex items-center justify-center text-gray-400 text-xs",children:"Mapa Simulado"})]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,b.jsxs)("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,b.jsx)(h.Clock,{className:"w-4 h-4 text-brand-500"})," Horário de Funcionamento"]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Segunda a Sexta"}),(0,b.jsxs)("span",{className:"font-bold text-gray-900",children:[I.openTime," - ",I.closeTime]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Sábado"}),(0,b.jsxs)("span",{className:"font-bold text-gray-900",children:[I.openTime," - 16:00"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Domingo"}),(0,b.jsx)("span",{className:"text-red-500 font-bold",children:"Fechado"})]})]})]})]})]}),J>0&&J<4&&(0,b.jsx)("div",{className:"flex gap-2 mb-6 px-1",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:`h-1.5 flex-1 rounded-full transition-all duration-300 ${J>=a?"bg-brand-600":"bg-gray-200"}`},a))}),1===J&&(0,b.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escolha o Serviço"}),(0,b.jsx)("div",{className:"space-y-3",children:I.services.map(a=>(0,b.jsxs)("div",{onClick:()=>{O(a),P?K(3):K(2)},className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex justify-between items-center active:scale-[0.98] transition-transform",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-gray-800",children:a.name}),(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:[a.durationMinutes," min"]})]}),(0,b.jsxs)("span",{className:"font-bold text-brand-600 bg-brand-50 px-2 py-1 rounded text-sm",children:["R$ ",a.price.toFixed(0)]})]},a.id))})]}),2===J&&(0,b.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escolha o Profissional"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{onClick:()=>{Q(I.professionals[0]),K(3)},className:"bg-white p-4 rounded-xl border border-dashed border-gray-300 flex flex-col items-center justify-center text-center gap-2 active:bg-gray-50",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:(0,b.jsx)(k.User,{className:"w-6 h-6"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Qualquer um"})]}),I.professionals.map(a=>(0,b.jsxs)("div",{onClick:()=>{Q(a),K(3)},className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 active:scale-[0.98] transition-transform",children:[(0,b.jsx)("img",{src:a.avatarUrl,alt:a.name,className:"w-12 h-12 rounded-full object-cover"}),(0,b.jsx)("div",{children:(0,b.jsx)("h4",{className:"font-bold text-sm text-gray-900",children:a.name})})]},a.id))]})]}),3===J&&(0,b.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Data e Hora"}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-brand-600",children:(0,b.jsx)(g.Calendar,{className:"w-5 h-5"})}),(0,b.jsx)("input",{type:"date",className:"w-full border border-gray-200 rounded-xl pl-12 pr-4 py-3 bg-white font-medium text-gray-900 outline-none focus:border-brand-500 appearance-none min-h-[50px] shadow-sm",value:R,onChange:a=>{S(a.target.value),U("")},style:{WebkitAppearance:"none"}})]}),aB.length>0?(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:aB.map(a=>(0,b.jsx)("button",{onClick:()=>{U(a),ay.length>0&&W(!0)},className:`py-2 rounded-lg text-sm font-bold border transition-colors ${T===a?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-600 border-gray-200"}`,children:a},a))}):R&&(0,b.jsxs)("div",{className:"text-center py-6",children:[(0,b.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"Nenhum horário disponível para esta data."}),(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>am(!0),children:"Avise-me quando vagar"})]}),aB.length>0&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)("button",{onClick:()=>am(!0),className:"text-sm text-brand-600 underline font-medium",children:"Não achou um horário bom? Entre na lista de espera."})})]}),(0,b.jsx)(B,{isOpen:al,onClose:()=>am(!1),salonName:I.name,serviceName:N?.name,onJoin:(a,b)=>{alert(`Voc\xea entrou na lista de espera! Avisaremos no ${a}.`)}}),(0,b.jsx)(f.Modal,{isOpen:V,onClose:()=>W(!1),title:"Lojinha do Salão",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"bg-brand-50 p-3 rounded-lg text-sm text-brand-800",children:"Aproveite e leve produtos profissionais para casa!"}),(0,b.jsx)("div",{className:"space-y-3",children:ay.map(a=>(0,b.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("img",{src:a.image||"https://via.placeholder.com/100",className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-bold text-sm text-gray-900",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-brand-600 font-bold",children:["R$ ",a.salePrice?.toFixed(2)]})]})]}),(0,b.jsx)(f.Button,{onClick:()=>{Y([...X,a])},className:"px-3 py-1 text-xs",children:"Adicionar"})]},a.id))}),X.length>0&&(0,b.jsxs)("div",{className:"border-t border-gray-100 pt-4 mt-4",children:[(0,b.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Seu Carrinho"}),X.map((a,c)=>(0,b.jsxs)("div",{className:"flex justify-between items-center text-sm py-1",children:[(0,b.jsx)("span",{children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{children:["R$ ",a.salePrice?.toFixed(2)]}),(0,b.jsx)("button",{onClick:()=>{let a;(a=[...X]).splice(c,1),Y(a)},className:"text-red-500",children:(0,b.jsx)(t.Trash2,{className:"w-3 h-3"})})]})]},c)),(0,b.jsxs)("div",{className:"flex justify-between font-bold mt-2 pt-2 border-t border-dashed border-gray-200",children:[(0,b.jsx)("span",{children:"Total Produtos"}),(0,b.jsxs)("span",{children:["R$ ",az.toFixed(2)]})]})]}),(0,b.jsx)(f.Button,{className:"w-full",onClick:()=>W(!1),children:"Concluir Seleção"})]})}),T&&(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Seus Dados"}),y&&af&&!ah?(0,b.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsx)("span",{className:"text-sm font-bold text-gray-500 uppercase",children:"Confirmar Dados"}),(0,b.jsxs)("button",{onClick:()=>ai(!0),className:"text-brand-600 text-xs font-bold flex items-center gap-1",children:[(0,b.jsx)(w.Edit,{className:"w-3 h-3"})," Editar"]})]}),(0,b.jsx)("div",{className:"font-bold text-gray-900 text-lg",children:_}),(0,b.jsx)("div",{className:"text-gray-600",children:Z})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("input",{type:"tel",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none mb-3",placeholder:"Seu Telefone (DDD + Número)",value:Z,onChange:a=>{$(a.target.value),ag(!1)}})}),(af||y&&!ah)&&(0,b.jsxs)("div",{className:"space-y-3",children:[ad||ah?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"Seu Nome Completo",value:_,onChange:a=>aa(a.target.value)}),(0,b.jsx)("input",{type:"tel",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"Data de Nascimento (DD/MM/AAAA)",value:ab,maxLength:10,onChange:a=>{let b;(b=a.target.value.replace(/\D/g,"")).length>8&&(b=b.slice(0,8)),b.length>4?b=`${b.slice(0,2)}/${b.slice(2,4)}/${b.slice(4)}`:b.length>2&&(b=`${b.slice(0,2)}/${b.slice(2)}`),ac(b)}})]}):!y&&(0,b.jsxs)("div",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg flex items-center gap-2",children:[(0,b.jsx)(j.CheckCircle,{className:"w-4 h-4"})," Olá, ",_,"!"]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl mt-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Serviço"}),(0,b.jsxs)("span",{className:"font-bold",children:["R$ ",N?.price.toFixed(2)]})]}),X.length>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(s.ShoppingBag,{className:"w-3 h-3"})," Produtos (",X.length,")"]}),(0,b.jsxs)("span",{children:["R$ ",az.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 mt-2",children:[(0,b.jsx)("span",{children:"Total"}),(0,b.jsxs)("span",{className:"text-brand-600",children:["R$ ",aA.toFixed(2)]})]})]}),(0,b.jsx)("div",{ref:ax,children:(0,b.jsx)(f.Button,{className:"w-full py-4 text-lg font-bold shadow-xl shadow-brand-200",onClick:()=>{if(N&&P&&R&&T&&_&&Z){(ad||ah)&&G({id:Math.random().toString(36).substr(2,9),name:_,phone:Z,birthDate:ab});let a=new Date(`${R}T${T}:00`).toISOString();F(I.id,{id:Math.random().toString(36).substr(2,9),salonId:I.id,serviceId:N.id,professionalId:P.id,clientName:_,clientPhone:Z,date:a,status:"scheduled",price:N.price,products:X}),K(4),window.scrollTo(0,0)}},children:"Confirmar Agendamento"})})]})]})]}),4===J&&(0,b.jsxs)("div",{className:"fixed inset-0 bg-white z-[60] flex flex-col items-center justify-center p-4 text-center animate-in zoom-in-95",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-6 animate-bounce",children:(0,b.jsx)(j.CheckCircle,{className:"w-12 h-12"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Agendamento Confirmado!"}),(0,b.jsxs)("p",{className:"text-gray-600 mb-8 max-w-xs mx-auto text-lg",children:["Te esperamos dia ",(0,b.jsx)("span",{className:"font-bold",children:new Date(R+"T00:00:00").toLocaleDateString()})," às ",(0,b.jsx)("span",{className:"font-bold",children:T}),"."]}),(0,b.jsx)("div",{className:"w-full max-w-xs space-y-3",children:(0,b.jsx)(f.Button,{className:"w-full py-3",onClick:()=>{y?C():(K(0),O(null),Q(null),S(""),U(""),Y([]),M("home"))},children:"Voltar ao Início"})})]}),(0,b.jsx)(f.Modal,{isOpen:ar,onClose:()=>as(!1),title:"Avaliar Experiência",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("p",{className:"text-gray-600 mb-4",children:["Quantas estrelas você dá para o ",I.name,"?"]}),(0,b.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{onClick:()=>au(a),className:"transition-transform hover:scale-110",children:(0,b.jsx)(x.Star,{className:`w-8 h-8 ${a<=at?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Seu Comentário (Opcional)"}),(0,b.jsx)("textarea",{className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none transition-all",rows:4,placeholder:"Conte como foi sua experiência...",value:av,onChange:a=>aw(a.target.value)})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>as(!1),children:"Cancelar"}),(0,b.jsx)(f.Button,{onClick:()=>{if(0===at)return;let{addReview:a}=(0,e.useStore)();a(I.id,{id:Math.random().toString(36).substr(2,9),salonId:I.id,clientName:"Anônimo",rating:at,comment:av,date:new Date().toISOString()}),as(!1),au(0),aw(""),alert("Obrigado pela sua avaliação!")},disabled:0===at,children:"Enviar Avaliação"})]})]})}),(0,b.jsx)(f.Modal,{isOpen:aj,onClose:()=>ak(!1),title:"Meus Agendamentos",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Digite seu telefone para ver seus próximos horários neste salão."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{placeholder:"Telefone (DDD+Número)",value:an,onChange:a=>ao(a.target.value),className:"mb-0"}),(0,b.jsx)(f.Button,{onClick:()=>{an&&aq(I.appointments.filter(a=>a.clientPhone===an&&"cancelled"!==a.status).sort((a,b)=>new Date(a.date).getTime()-new Date(b.date).getTime()))},children:(0,b.jsx)(v.Search,{className:"w-4 h-4"})})]}),(0,b.jsx)("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto",children:ap.length>0?ap.map(a=>(0,b.jsxs)("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200",children:[(0,b.jsxs)("div",{className:"font-bold text-gray-900",children:[new Date(a.date).toLocaleDateString()," às ",new Date(a.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:I.services.find(b=>b.id===a.serviceId)?.name}),(0,b.jsxs)("div",{className:"text-xs text-brand-600 font-medium mt-1",children:["Com ",I.professionals.find(b=>b.id===a.professionalId)?.name]})]},a.id)):an&&(0,b.jsx)("div",{className:"text-center text-sm text-gray-400 py-4",children:"Nenhum agendamento futuro encontrado."})}),(0,b.jsx)(f.Button,{variant:"outline",className:"w-full",onClick:()=>ak(!1),children:"Fechar"})]})})]})})};function D({params:a}){let c=(0,d.useRouter)(),e=(0,d.useSearchParams)(),{salonId:f}=a,g=e.get("proId")||void 0,h=e.get("clientPhone")||void 0,i="true"===e.get("fromPortal");return(0,b.jsx)(C,{salonId:f,professionalId:g,clientPhone:h,fromPortal:i,onBack:()=>{i&&h?c.push(`/portal?phone=${h}`):c.push("/directory")},onAdminAccess:a=>c.push(`/login?context=tenant&salonId=${a}`)})}function E({params:a}){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Carregando..."}),children:(0,b.jsx)(D,{params:a})})}a.s(["default",()=>E],58828)}];

//# sourceMappingURL=app_booking_%5BsalonId%5D_page_tsx_0eba5279._.js.map