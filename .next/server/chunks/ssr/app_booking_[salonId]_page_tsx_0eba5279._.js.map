{"version":3,"sources":["../../../../app/booking/%5BsalonId%5D/page.tsx","../../../../modules/PublicBooking.tsx","../../../../node_modules/lucide-react/src/icons/bell.ts","../../../../components/ReviewList.tsx","../../../../components/StarRating.tsx","../../../../components/WaitlistModal.tsx"],"sourcesContent":["'use client';\r\nimport React, { Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { PublicBooking } from '@/modules/PublicBooking';\r\n\r\nfunction BookingContent({ params }: { params: { salonId: string } }) {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const { salonId } = params;\r\n\r\n    const professionalId = searchParams.get('proId') || undefined;\r\n    const clientPhone = searchParams.get('clientPhone') || undefined;\r\n    const fromPortal = searchParams.get('fromPortal') === 'true';\r\n\r\n    return (\r\n        <PublicBooking\r\n            salonId={salonId}\r\n            professionalId={professionalId}\r\n            clientPhone={clientPhone}\r\n            fromPortal={fromPortal}\r\n            onBack={() => {\r\n                if (fromPortal && clientPhone) {\r\n                    router.push(`/portal?phone=${clientPhone}`);\r\n                } else {\r\n                    router.push('/directory');\r\n                }\r\n            }}\r\n            onAdminAccess={(sid) => router.push(`/login?context=tenant&salonId=${sid}`)}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function BookingPage({ params }: { params: { salonId: string } }) {\r\n    return (\r\n        <Suspense fallback={<div>Carregando...</div>}>\r\n            <BookingContent params={params} />\r\n        </Suspense>\r\n    );\r\n}\r\n","\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useStore } from '../store';\nimport { Button, AppShell, MobileNav, MobileNavItem, Badge, Modal, Input, Card } from '../components/UI';\nimport { Calendar, Clock, MapPin, CheckCircle, User, ChevronLeft, Scissors, Lock, Home, Globe, Instagram, Facebook, MessageCircle, ShoppingBag, Plus, Minus, Trash2, Image, Search, Edit, Star } from 'lucide-react';\nimport { Service, Professional, Product, Review } from '../types';\nimport { ReviewList } from '../components/ReviewList';\nimport { StarRating } from '../components/StarRating';\nimport { WaitlistModal } from '../components/WaitlistModal';\n\nexport const PublicBooking: React.FC<{\n    salonId: string;\n    professionalId?: string; // Optional Deep Link Param\n    fromPortal?: boolean; // If true, behaves like the \"Agenda\" tab of the Client Portal\n    clientPhone?: string; // If from portal, pass the logged user phone\n    onBack: () => void;\n    onAdminAccess: (salonId: string) => void;\n}> = ({ salonId, professionalId, fromPortal, clientPhone: portalClientPhone, onBack, onAdminAccess }) => {\n    const { salons, addAppointment, saveClient, getClientByPhone } = useStore();\n    const salon = salons.find(s => s.id === salonId);\n\n    // If from Portal, start at step 1 (Services), otherwise step 0 (Profile)\n    const [step, setStep] = useState<0 | 1 | 2 | 3 | 4>(fromPortal ? 1 : 0);\n    const [clientView, setClientView] = useState<'home' | 'gallery' | 'about' | 'reviews'>('home');\n    const [selectedService, setSelectedService] = useState<Service | null>(null);\n    const [selectedProfessional, setSelectedProfessional] = useState<Professional | null>(null);\n    const [selectedDate, setSelectedDate] = useState<string>('');\n    const [selectedTime, setSelectedTime] = useState<string>('');\n\n    // E-commerce State\n    const [isStoreOpen, setIsStoreOpen] = useState(false);\n    const [cart, setCart] = useState<Product[]>([]);\n\n    // Client Identification State\n    const [clientPhone, setClientPhone] = useState('');\n    const [clientName, setClientName] = useState('');\n    const [clientBirthDate, setClientBirthDate] = useState('');\n    const [isNewClient, setIsNewClient] = useState(false);\n    const [clientVerified, setClientVerified] = useState(false);\n    const [isEditingData, setIsEditingData] = useState(false); // New state for editing pre-filled data\n\n    // My Appointments State\n    const [isMyApptsOpen, setIsMyApptsOpen] = useState(false);\n    const [isWaitlistOpen, setIsWaitlistOpen] = useState(false);\n    const [lookupPhone, setLookupPhone] = useState('');\n    const [myFoundAppts, setMyFoundAppts] = useState<any[]>([]);\n\n    // Review State\n    const [isReviewModalOpen, setIsReviewModalOpen] = useState(false);\n    const [newReviewRating, setNewReviewRating] = useState(0);\n    const [newReviewComment, setNewReviewComment] = useState('');\n\n    // Scroll Ref\n    const confirmBtnRef = useRef<HTMLDivElement>(null);\n\n    // Handle Deep Link & Portal Phone\n    useEffect(() => {\n        if (professionalId && salon) {\n            const pro = salon.professionals.find(p => p.id === professionalId);\n            if (pro) {\n                setSelectedProfessional(pro);\n            }\n        }\n\n        if (fromPortal && portalClientPhone) {\n            setClientPhone(portalClientPhone);\n            // Trigger verification immediately for portal users\n            const existingClient = getClientByPhone(portalClientPhone);\n            if (existingClient) {\n                setClientName(existingClient.name);\n                setClientBirthDate(existingClient.birthDate);\n                setClientVerified(true);\n                setIsNewClient(false);\n            }\n        }\n    }, [professionalId, salon, fromPortal, portalClientPhone]);\n\n    // Auto Scroll Effect\n    useEffect(() => {\n        if (step === 3 && (clientVerified || (fromPortal && !isEditingData))) {\n            // Give a small delay for render to complete\n            const timer = setTimeout(() => {\n                confirmBtnRef.current?.scrollIntoView({ behavior: 'smooth', block: 'center' });\n            }, 300);\n            return () => clearTimeout(timer);\n        }\n    }, [clientVerified, fromPortal, isEditingData, step]);\n\n    if (!salon) return <div>Salão não encontrado</div>;\n\n    const productsForSale = salon.products?.filter(p => p.isForSale && p.quantity > 0) || [];\n\n    const addToCart = (product: Product) => {\n        setCart([...cart, product]);\n    };\n\n    const removeFromCart = (index: number) => {\n        const newCart = [...cart];\n        newCart.splice(index, 1);\n        setCart(newCart);\n    };\n\n    const cartTotal = cart.reduce((acc, p) => acc + (p.salePrice || 0), 0);\n    const finalTotal = (selectedService?.price || 0) + cartTotal;\n\n    const generateTimeSlots = () => {\n        if (!selectedDate || !salon.openTime || !salon.closeTime) return [];\n        const startMinutes = parseInt(salon.openTime.split(':')[0]) * 60 + parseInt(salon.openTime.split(':')[1]);\n        const endMinutes = parseInt(salon.closeTime.split(':')[0]) * 60 + parseInt(salon.closeTime.split(':')[1]);\n        const interval = salon.slotInterval || 30;\n\n        // Define duration for the slot check (defaults to interval if no service selected, though service is usually selected step 1)\n        const duration = selectedService ? selectedService.durationMinutes : interval;\n\n        const now = new Date();\n        const year = now.getFullYear();\n        const month = String(now.getMonth() + 1).padStart(2, '0');\n        const day = String(now.getDate()).padStart(2, '0');\n        const todayString = `${year}-${month}-${day}`;\n\n        const isToday = selectedDate === todayString;\n        const currentMinutes = now.getHours() * 60 + now.getMinutes();\n\n        const slots = [];\n        for (let time = startMinutes; time < endMinutes; time += interval) {\n            // Check if start time is in the past (if today)\n            if (isToday && time <= currentMinutes + 15) {\n                continue;\n            }\n\n            // Check if the service finishes after closing time\n            if (time + duration > endMinutes) continue;\n\n            // Check Collision with Blocked Periods (Day Blocks)\n            // Note: Currently BlockedPeriod is treated as full day block as per data structure\n            const isBlockedByPeriod = salon.blockedPeriods?.some(block => {\n                if (block.date !== selectedDate) return false;\n                if (block.professionalId && block.professionalId !== selectedProfessional?.id) return false;\n                return true;\n            });\n\n            if (isBlockedByPeriod) continue;\n\n            // Check Collision with Existing Appointments\n            const isBlockedByAppt = salon.appointments.some(appt => {\n                // Ignore cancelled\n                if (appt.status === 'cancelled') return false;\n\n                // Ignore if for another professional (if pro selected)\n                // If selectedProfessional is null/any, logic might differ, but current flow forces selection or defaults to [0]\n                if (selectedProfessional && appt.professionalId !== selectedProfessional.id) return false;\n\n                // Check Date Match (String comparison YYYY-MM-DD)\n                if (!appt.date.startsWith(selectedDate)) return false;\n\n                // Calculate Appointment Minutes Range\n                const apptDate = new Date(appt.date);\n                const apptStart = apptDate.getHours() * 60 + apptDate.getMinutes();\n\n                // Find service to get duration, fallback to interval or default 30\n                const apptService = salon.services.find(s => s.id === appt.serviceId);\n                const apptDuration = apptService ? apptService.durationMinutes : (salon.slotInterval || 30);\n                const apptEnd = apptStart + apptDuration;\n\n                // Check Overlap\n                // Slot: [time, time + duration]\n                // Appt: [apptStart, apptEnd]\n                // Overlap condition: StartA < EndB && EndA > StartB\n                const slotEnd = time + duration;\n                return (time < apptEnd && slotEnd > apptStart);\n            });\n\n            if (!isBlockedByAppt) {\n                const hours = Math.floor(time / 60);\n                const minutes = time % 60;\n                const timeString = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;\n                slots.push(timeString);\n            }\n        }\n        return slots;\n    };\n\n    const timeSlots = generateTimeSlots();\n\n    // Helper for Date Mask (DD/MM/YYYY)\n    const handleBirthDateChange = (val: string) => {\n        let v = val.replace(/\\D/g, '');\n        if (v.length > 8) v = v.slice(0, 8);\n\n        if (v.length > 4) {\n            v = `${v.slice(0, 2)}/${v.slice(2, 4)}/${v.slice(4)}`;\n        } else if (v.length > 2) {\n            v = `${v.slice(0, 2)}/${v.slice(2)}`;\n        }\n        setClientBirthDate(v);\n    };\n\n    const handleVerifyPhone = () => {\n        // Basic cleanup\n        const cleanPhone = clientPhone.replace(/\\D/g, '');\n\n        if (cleanPhone.length >= 8) {\n            const existingClient = getClientByPhone(cleanPhone);\n            if (existingClient) {\n                setClientName(existingClient.name);\n                setClientBirthDate(existingClient.birthDate);\n                setIsNewClient(false);\n                setClientVerified(true);\n            } else if (cleanPhone.length >= 10) {\n                setIsNewClient(true);\n                setClientVerified(true);\n            }\n        }\n    };\n\n    // Real-time phone check (Only if not from portal, or if user is editing)\n    useEffect(() => {\n        if (!fromPortal || isEditingData) {\n            handleVerifyPhone();\n        }\n    }, [clientPhone, isEditingData]);\n\n    const handleBooking = () => {\n        if (selectedService && selectedProfessional && selectedDate && selectedTime && clientName && clientPhone) {\n            if (isNewClient || isEditingData) {\n                saveClient({\n                    id: Math.random().toString(36).substr(2, 9),\n                    name: clientName,\n                    phone: clientPhone,\n                    birthDate: clientBirthDate\n                });\n            }\n            const finalDate = new Date(`${selectedDate}T${selectedTime}:00`).toISOString();\n            addAppointment(salon.id, {\n                id: Math.random().toString(36).substr(2, 9),\n                salonId: salon.id,\n                serviceId: selectedService.id,\n                professionalId: selectedProfessional.id,\n                clientName: clientName,\n                clientPhone: clientPhone,\n                date: finalDate,\n                status: 'scheduled',\n                price: selectedService.price,\n                products: cart // Pass the cart items to the appointment\n            });\n\n            // Ensure we move to step 4\n            setStep(4);\n            window.scrollTo(0, 0);\n        }\n    };\n\n    const handleLookupAppointments = () => {\n        if (!lookupPhone) return;\n        const found = salon.appointments\n            .filter(a => a.clientPhone === lookupPhone && a.status !== 'cancelled')\n            .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\n\n        setMyFoundAppts(found);\n    };\n\n    const handleSubmitReview = () => {\n        if (newReviewRating === 0) return;\n        const { addReview } = useStore();\n        addReview(salon.id, {\n            id: Math.random().toString(36).substr(2, 9),\n            salonId: salon.id,\n            clientName: \"Anônimo\", // Or capture name if available\n            rating: newReviewRating,\n            comment: newReviewComment,\n            date: new Date().toISOString()\n        });\n        setIsReviewModalOpen(false);\n        setNewReviewRating(0);\n        setNewReviewComment('');\n        alert('Obrigado pela sua avaliação!');\n    };\n\n    const handleServiceSelect = (svc: Service) => {\n        setSelectedService(svc);\n        if (selectedProfessional) {\n            // If Deep Linked or pre-selected, skip pro selection\n            setStep(3);\n        } else {\n            setStep(2);\n        }\n    };\n\n    const handleTimeSelect = (time: string) => {\n        setSelectedTime(time);\n        if (productsForSale.length > 0) {\n            setIsStoreOpen(true);\n        }\n    };\n\n    const renderBottomNav = () => {\n        if (fromPortal) {\n            // Portal Mode: Consistent with ClientPortal Dashboard\n            return (\n                <MobileNav>\n                    <MobileNavItem\n                        icon={<Home />}\n                        label=\"Home\"\n                        onClick={onBack} // Returns to Dashboard\n                    />\n                    <MobileNavItem\n                        icon={<Calendar />}\n                        label=\"Agenda\"\n                        active={true}\n                        onClick={() => { }}\n                    />\n                    <MobileNavItem\n                        icon={<User />}\n                        label=\"Perfil\"\n                        onClick={onBack} // Returns to Dashboard where profile is accessible\n                    />\n                </MobileNav>\n            );\n        } else {\n            // Public Mode: Standalone navigation\n            return (\n                <MobileNav>\n                    <MobileNavItem\n                        icon={<Home />}\n                        label=\"Início\"\n                        active={step === 0 && clientView === 'home'}\n                        onClick={() => { setStep(0); setClientView('home'); }}\n                    />\n                    <MobileNavItem\n                        icon={<Image />}\n                        label=\"Galeria\"\n                        active={step === 0 && clientView === 'gallery'}\n                        onClick={() => { setStep(0); setClientView('gallery'); }}\n                    />\n                    <MobileNavItem\n                        icon={<Star />}\n                        label=\"Avaliações\"\n                        active={step === 0 && clientView === 'reviews'}\n                        onClick={() => { setStep(0); setClientView('reviews'); }}\n                    />\n                    <MobileNavItem\n                        icon={<Calendar />}\n                        label=\"Agendar\"\n                        active={step > 0}\n                        onClick={() => { if (step === 0) setStep(1); }}\n                    />\n                </MobileNav>\n            );\n        }\n    };\n\n    const Header = (\n        <div className=\"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 shadow-sm z-30 relative\">\n            {/* Back Button Logic */}\n            {(step > 0 && step < 4 && !fromPortal) || (step > 1 && fromPortal) ? (\n                <button onClick={() => setStep(step - 1 as any)} className=\"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100\">\n                    <ChevronLeft className=\"w-6 h-6\" />\n                </button>\n            ) : (\n                // Spacer or Back to Portal if applicable\n                fromPortal ? (\n                    <button onClick={onBack} className=\"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100\">\n                        <ChevronLeft className=\"w-6 h-6\" />\n                    </button>\n                ) : (\n                    <div className=\"w-10\"></div>\n                )\n            )}\n\n            {/* Lock Icon Logic: Only available in this header within the salon context, hidden if in portal mode to avoid confusion */}\n            {!fromPortal && (\n                <button\n                    className=\"relative flex-shrink-0 group\"\n                    onClick={() => onAdminAccess(salon.id)}\n                    title=\"Acesso do Proprietário\"\n                >\n                    <div className=\"w-12 h-12 bg-brand-100 rounded-full overflow-hidden border-2 border-white shadow-md\">\n                        {salon.coverImage ? (\n                            <img src={salon.coverImage} className=\"w-full h-full object-cover\" />\n                        ) : (\n                            <div className=\"w-full h-full flex items-center justify-center text-brand-600 font-bold text-lg\">\n                                {salon.name[0]}\n                            </div>\n                        )}\n                    </div>\n\n                    <div className=\"absolute -bottom-1 -right-1 z-50\">\n                        <div className=\"bg-white rounded-full p-0.5 shadow-lg border border-gray-100\">\n                            <div className=\"bg-gray-900 p-1.5 rounded-full hover:bg-black transition-colors\">\n                                <Lock className=\"w-3 h-3 text-white\" />\n                            </div>\n                        </div>\n                    </div>\n                </button>\n            )}\n\n            <div className=\"flex-1 min-w-0\">\n                <h1 className=\"font-bold text-gray-900 truncate text-base leading-tight\">{salon.name}</h1>\n                {fromPortal && <span className=\"text-xs text-brand-600 font-bold\">Agendamento</span>}\n                {selectedProfessional && step > 0 && step < 4 && (\n                    <div className=\"text-xs font-bold text-brand-600 flex items-center gap-1 animate-pulse\">\n                        Agendando com {selectedProfessional.name}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n\n    return (\n        <AppShell\n            header={step > 0 ? Header : undefined} // Hide header in step 0 for immersive feel\n            bottomNav={renderBottomNav()}\n        >\n            <div className={`flex flex-col min-h-full ${step === 0 ? 'bg-gray-50' : 'p-4'}`}>\n\n                {/* Step 0: Salon Showcase / Profile */}\n                {step === 0 && (\n                    <div className=\"animate-in fade-in duration-500\">\n                        {clientView === 'home' && (\n                            <div className=\"space-y-6 pb-24\">\n                                {/* Immersive Cover Image */}\n                                <div className=\"relative w-full h-72\">\n                                    <div className=\"absolute inset-0 bg-gray-900\">\n                                        <img\n                                            src={salon.coverImage || `https://picsum.photos/seed/${salon.id}/800/800`}\n                                            className=\"w-full h-full object-cover opacity-80\"\n                                        />\n                                    </div>\n                                    <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent\" />\n                                    <div className=\"absolute bottom-0 left-0 right-0 p-6 text-white\">\n                                        <Badge color=\"green\" className=\"mb-2 bg-green-500/20 text-green-100 border border-green-500/30 backdrop-blur-md\">Aberto Agora</Badge>\n                                        <h1 className=\"text-3xl font-bold mb-1 shadow-sm\">{salon.name}</h1>\n                                        <p className=\"text-sm text-gray-200 flex items-center gap-1 opacity-90\">\n                                            <MapPin className=\"w-4 h-4\" /> {salon.address}\n                                        </p>\n                                    </div>\n                                </div>\n\n                                <div className=\"px-4 -mt-6 relative z-10\">\n                                    <Button className=\"w-full py-4 text-lg font-bold shadow-xl shadow-brand-500/30 mb-6\" onClick={() => setStep(1)}>\n                                        Agendar Agora\n                                    </Button>\n\n                                    {/* About Us Preview */}\n                                    <Card className=\"mb-4\">\n                                        <h3 className=\"font-bold text-gray-900 mb-2 text-lg\">Bem-vindo</h3>\n                                        <p className=\"text-gray-600 leading-relaxed text-sm\">\n                                            {salon.aboutUs || \"Bem-vindo ao nosso espaço! Oferecemos os melhores serviços para cuidar da sua beleza e bem-estar.\"}\n                                        </p>\n                                    </Card>\n\n                                    {/* My Appointments Lookup Button */}\n                                    <div\n                                        onClick={() => setIsMyApptsOpen(true)}\n                                        className=\"bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-center justify-between cursor-pointer active:scale-[0.98] transition-transform\"\n                                    >\n                                        <div className=\"flex items-center gap-3\">\n                                            <div className=\"bg-blue-100 p-2 rounded-full\">\n                                                <Search className=\"w-5 h-5 text-blue-600\" />\n                                            </div>\n                                            <div>\n                                                <div className=\"font-bold text-blue-900 text-sm\">Meus Agendamentos</div>\n                                                <div className=\"text-xs text-blue-600\">Esqueceu o horário? Consulte aqui.</div>\n                                            </div>\n                                        </div>\n                                        <div className=\"bg-white p-1 rounded-full text-blue-500\">\n                                            <ChevronLeft className=\"w-4 h-4 rotate-180\" />\n                                        </div>\n                                    </div>\n\n                                    {/* Socials */}\n                                    <div className=\"grid grid-cols-4 gap-2\">\n                                        {salon.socials?.whatsapp && (\n                                            <a href={`https://wa.me/${salon.socials.whatsapp}`} target=\"_blank\" className=\"bg-green-50 p-3 rounded-xl flex flex-col items-center gap-1 text-green-700 hover:bg-green-100 transition-colors\">\n                                                <MessageCircle className=\"w-6 h-6\" />\n                                                <span className=\"text-[10px] font-bold\">Whats</span>\n                                            </a>\n                                        )}\n                                        {salon.socials?.instagram && (\n                                            <a href={`https://instagram.com/${salon.socials.instagram.replace('@', '')}`} target=\"_blank\" className=\"bg-purple-50 p-3 rounded-xl flex flex-col items-center gap-1 text-purple-700 hover:bg-purple-100 transition-colors\">\n                                                <Instagram className=\"w-6 h-6\" />\n                                                <span className=\"text-[10px] font-bold\">Insta</span>\n                                            </a>\n                                        )}\n                                        {salon.socials?.facebook && (\n                                            <a href={salon.socials.facebook} target=\"_blank\" className=\"bg-blue-50 p-3 rounded-xl flex flex-col items-center gap-1 text-blue-700 hover:bg-blue-100 transition-colors\">\n                                                <Facebook className=\"w-6 h-6\" />\n                                                <span className=\"text-[10px] font-bold\">Face</span>\n                                            </a>\n                                        )}\n                                        {salon.socials?.website && (\n                                            <a href={salon.socials.website} target=\"_blank\" className=\"bg-gray-50 p-3 rounded-xl flex flex-col items-center gap-1 text-gray-700 hover:bg-gray-100 transition-colors\">\n                                                <Globe className=\"w-6 h-6\" />\n                                                <span className=\"text-[10px] font-bold\">Site</span>\n                                            </a>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n\n                        {clientView === 'reviews' && (\n                            <div className=\"space-y-4 p-4 pb-24\">\n                                <div className=\"flex justify-between items-center mb-2\">\n                                    <h2 className=\"text-xl font-bold text-gray-900 mb-2\">O que dizem sobre nós</h2>\n                                    <div className=\"text-center\">\n                                        <div className=\"text-2xl font-bold text-gray-900 flex items-center gap-1\">\n                                            4.8 <Star className=\"w-5 h-5 fill-yellow-400 text-yellow-400\" />\n                                        </div>\n                                        <span className=\"text-xs text-gray-500\">{salon.reviews?.length || 0} avaliações</span>\n                                    </div>\n                                </div>\n\n                                <ReviewList reviews={salon.reviews || []} />\n\n                                <div className=\"bg-brand-50 p-4 rounded-xl text-center mt-6\">\n                                    <p className=\"font-bold text-brand-800 mb-2\">Já é nosso cliente?</p>\n                                    <Button variant=\"outline\" className=\"w-full bg-white\" onClick={() => setIsReviewModalOpen(true)}>\n                                        Avaliar Experiência\n                                    </Button>\n                                </div>\n                            </div>\n                        )}\n\n                        {clientView === 'gallery' && (\n                            <div className=\"space-y-4 p-4 pb-24\">\n                                <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Galeria</h2>\n                                {salon.gallery && salon.gallery.length > 0 ? (\n                                    <div className=\"grid grid-cols-2 gap-2\">\n                                        {salon.gallery.map((img, i) => (\n                                            <div key={i} className=\"aspect-square rounded-xl overflow-hidden bg-gray-100\">\n                                                <img src={img} className=\"w-full h-full object-cover hover:scale-110 transition-transform duration-500\" />\n                                            </div>\n                                        ))}\n                                    </div>\n                                ) : (\n                                    <div className=\"text-center py-10 text-gray-400 bg-gray-50 rounded-xl\">\n                                        <Image className=\"w-10 h-10 mx-auto mb-2 opacity-50\" />\n                                        <p>Nenhuma foto na galeria.</p>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n\n                        {clientView === 'about' && (\n                            <div className=\"space-y-6 p-4 pb-24\">\n                                <div>\n                                    <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Sobre Nós</h2>\n                                    <p className=\"text-gray-600 leading-relaxed text-sm\">\n                                        {salon.aboutUs || \"Descrição não informada.\"}\n                                    </p>\n                                </div>\n\n                                <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                                    <h3 className=\"font-bold text-gray-900 mb-3 flex items-center gap-2\">\n                                        <MapPin className=\"w-4 h-4 text-brand-500\" /> Endereço\n                                    </h3>\n                                    <p className=\"text-sm text-gray-600\">{salon.address}</p>\n                                    {/* Fake Map */}\n                                    <div className=\"mt-3 h-32 bg-gray-200 rounded-lg w-full flex items-center justify-center text-gray-400 text-xs\">\n                                        Mapa Simulado\n                                    </div>\n                                </div>\n\n                                <div className=\"bg-gray-50 p-4 rounded-xl border border-gray-100\">\n                                    <h3 className=\"font-bold text-gray-900 mb-3 flex items-center gap-2\">\n                                        <Clock className=\"w-4 h-4 text-brand-500\" /> Horário de Funcionamento\n                                    </h3>\n                                    <div className=\"space-y-2 text-sm\">\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-gray-600\">Segunda a Sexta</span>\n                                            <span className=\"font-bold text-gray-900\">{salon.openTime} - {salon.closeTime}</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-gray-600\">Sábado</span>\n                                            <span className=\"font-bold text-gray-900\">{salon.openTime} - 16:00</span>\n                                        </div>\n                                        <div className=\"flex justify-between\">\n                                            <span className=\"text-gray-600\">Domingo</span>\n                                            <span className=\"text-red-500 font-bold\">Fechado</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {/* Progress Bar for Booking Steps */}\n                {step > 0 && step < 4 && (\n                    <div className=\"flex gap-2 mb-6 px-1\">\n                        {[1, 2, 3].map(i => (\n                            <div key={i} className={`h-1.5 flex-1 rounded-full transition-all duration-300 ${step >= i ? 'bg-brand-600' : 'bg-gray-200'}`} />\n                        ))}\n                    </div>\n                )}\n\n                {step === 1 && (\n                    <div className=\"animate-in slide-in-from-right-4 duration-300\">\n                        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Escolha o Serviço</h2>\n                        <div className=\"space-y-3\">\n                            {salon.services.map(svc => (\n                                <div\n                                    key={svc.id}\n                                    onClick={() => handleServiceSelect(svc)}\n                                    className=\"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex justify-between items-center active:scale-[0.98] transition-transform\"\n                                >\n                                    <div>\n                                        <h4 className=\"font-bold text-gray-800\">{svc.name}</h4>\n                                        <span className=\"text-xs text-gray-500\">{svc.durationMinutes} min</span>\n                                    </div>\n                                    <span className=\"font-bold text-brand-600 bg-brand-50 px-2 py-1 rounded text-sm\">\n                                        R$ {svc.price.toFixed(0)}\n                                    </span>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {step === 2 && (\n                    <div className=\"animate-in slide-in-from-right-4 duration-300\">\n                        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Escolha o Profissional</h2>\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            <div\n                                onClick={() => { setSelectedProfessional(salon.professionals[0]); setStep(3); }}\n                                className=\"bg-white p-4 rounded-xl border border-dashed border-gray-300 flex flex-col items-center justify-center text-center gap-2 active:bg-gray-50\"\n                            >\n                                <div className=\"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400\">\n                                    <User className=\"w-6 h-6\" />\n                                </div>\n                                <span className=\"text-sm font-medium text-gray-600\">Qualquer um</span>\n                            </div>\n                            {salon.professionals.map(pro => (\n                                <div\n                                    key={pro.id}\n                                    onClick={() => { setSelectedProfessional(pro); setStep(3); }}\n                                    className=\"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 active:scale-[0.98] transition-transform\"\n                                >\n                                    <img src={pro.avatarUrl} alt={pro.name} className=\"w-12 h-12 rounded-full object-cover\" />\n                                    <div>\n                                        <h4 className=\"font-bold text-sm text-gray-900\">{pro.name}</h4>\n                                    </div>\n                                </div>\n                            ))}\n                        </div>\n                    </div>\n                )}\n\n                {step === 3 && (\n                    <div className=\"animate-in slide-in-from-right-4 duration-300 space-y-6\">\n                        <div>\n                            <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Data e Hora</h2>\n                            {/* Fix: Optimized Date Input for Mobile */}\n                            <div className=\"relative mb-4\">\n                                <div className=\"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-brand-600\">\n                                    <Calendar className=\"w-5 h-5\" />\n                                </div>\n                                <input\n                                    type=\"date\"\n                                    className=\"w-full border border-gray-200 rounded-xl pl-12 pr-4 py-3 bg-white font-medium text-gray-900 outline-none focus:border-brand-500 appearance-none min-h-[50px] shadow-sm\"\n                                    value={selectedDate}\n                                    onChange={(e) => { setSelectedDate(e.target.value); setSelectedTime(''); }}\n                                    style={{ WebkitAppearance: 'none' }}\n                                />\n                            </div>\n\n                            {timeSlots.length > 0 ? (\n                                <div className=\"grid grid-cols-4 gap-2\">\n                                    {timeSlots.map(time => (\n                                        <button\n                                            key={time}\n                                            onClick={() => handleTimeSelect(time)}\n                                            className={`py-2 rounded-lg text-sm font-bold border transition-colors ${selectedTime === time ? 'bg-brand-600 text-white border-brand-600' : 'bg-white text-gray-600 border-gray-200'}`}\n                                        >\n                                            {time}\n                                        </button>\n                                    ))}\n                                </div>\n                            ) : (\n                                selectedDate && (\n                                    <div className=\"text-center py-6\">\n                                        <p className=\"text-sm text-gray-400 mb-3\">Nenhum horário disponível para esta data.</p>\n                                        <Button variant=\"outline\" onClick={() => setIsWaitlistOpen(true)}>\n                                            Avise-me quando vagar\n                                        </Button>\n                                    </div>\n                                )\n                            )}\n\n                            {/* Always show option to join waitlist below slots if user wants another time */}\n                            {timeSlots.length > 0 && (\n                                <div className=\"mt-6 text-center\">\n                                    <button onClick={() => setIsWaitlistOpen(true)} className=\"text-sm text-brand-600 underline font-medium\">\n                                        Não achou um horário bom? Entre na lista de espera.\n                                    </button>\n                                </div>\n                            )}\n                        </div>\n\n                        <WaitlistModal\n                            isOpen={isWaitlistOpen}\n                            onClose={() => setIsWaitlistOpen(false)}\n                            salonName={salon.name}\n                            serviceName={selectedService?.name}\n                            onJoin={(phone, email) => {\n                                alert(`Você entrou na lista de espera! Avisaremos no ${phone}.`);\n                            }}\n                        />\n\n                        {/* Store Modal */}\n                        <Modal isOpen={isStoreOpen} onClose={() => setIsStoreOpen(false)} title=\"Lojinha do Salão\">\n                            <div className=\"space-y-4\">\n                                <div className=\"bg-brand-50 p-3 rounded-lg text-sm text-brand-800\">\n                                    Aproveite e leve produtos profissionais para casa!\n                                </div>\n\n                                <div className=\"space-y-3\">\n                                    {productsForSale.map(prod => (\n                                        <div key={prod.id} className=\"flex justify-between items-center bg-white p-3 rounded-xl border border-gray-100 shadow-sm\">\n                                            <div className=\"flex items-center gap-3\">\n                                                <img src={prod.image || 'https://via.placeholder.com/100'} className=\"w-12 h-12 rounded-lg object-cover bg-gray-100\" />\n                                                <div>\n                                                    <div className=\"font-bold text-sm text-gray-900\">{prod.name}</div>\n                                                    <div className=\"text-xs text-brand-600 font-bold\">R$ {prod.salePrice?.toFixed(2)}</div>\n                                                </div>\n                                            </div>\n                                            <Button onClick={() => addToCart(prod)} className=\"px-3 py-1 text-xs\">Adicionar</Button>\n                                        </div>\n                                    ))}\n                                </div>\n\n                                {cart.length > 0 && (\n                                    <div className=\"border-t border-gray-100 pt-4 mt-4\">\n                                        <h4 className=\"font-bold text-sm mb-2\">Seu Carrinho</h4>\n                                        {cart.map((item, idx) => (\n                                            <div key={idx} className=\"flex justify-between items-center text-sm py-1\">\n                                                <span>{item.name}</span>\n                                                <div className=\"flex items-center gap-2\">\n                                                    <span>R$ {item.salePrice?.toFixed(2)}</span>\n                                                    <button onClick={() => removeFromCart(idx)} className=\"text-red-500\"><Trash2 className=\"w-3 h-3\" /></button>\n                                                </div>\n                                            </div>\n                                        ))}\n                                        <div className=\"flex justify-between font-bold mt-2 pt-2 border-t border-dashed border-gray-200\">\n                                            <span>Total Produtos</span>\n                                            <span>R$ {cartTotal.toFixed(2)}</span>\n                                        </div>\n                                    </div>\n                                )}\n\n                                <Button className=\"w-full\" onClick={() => setIsStoreOpen(false)}>Concluir Seleção</Button>\n                            </div>\n                        </Modal>\n\n                        {selectedTime && (\n                            <div className=\"animate-in fade-in slide-in-from-bottom-4\">\n                                <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Seus Dados</h2>\n\n                                {fromPortal && clientVerified && !isEditingData ? (\n                                    <div className=\"bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-4\">\n                                        <div className=\"flex justify-between items-start mb-2\">\n                                            <span className=\"text-sm font-bold text-gray-500 uppercase\">Confirmar Dados</span>\n                                            <button onClick={() => setIsEditingData(true)} className=\"text-brand-600 text-xs font-bold flex items-center gap-1\">\n                                                <Edit className=\"w-3 h-3\" /> Editar\n                                            </button>\n                                        </div>\n                                        <div className=\"font-bold text-gray-900 text-lg\">{clientName}</div>\n                                        <div className=\"text-gray-600\">{clientPhone}</div>\n                                    </div>\n                                ) : (\n                                    <>\n                                        <input\n                                            type=\"tel\"\n                                            className=\"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none mb-3\"\n                                            placeholder=\"Seu Telefone (DDD + Número)\"\n                                            value={clientPhone}\n                                            onChange={(e) => { setClientPhone(e.target.value); setClientVerified(false); }}\n                                        />\n                                    </>\n                                )}\n\n                                {(clientVerified || (fromPortal && !isEditingData)) && (\n                                    <div className=\"space-y-3\">\n                                        {(isNewClient || isEditingData) ? (\n                                            <>\n                                                <input\n                                                    type=\"text\"\n                                                    className=\"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none\"\n                                                    placeholder=\"Seu Nome Completo\"\n                                                    value={clientName}\n                                                    onChange={(e) => setClientName(e.target.value)}\n                                                />\n                                                {/* Fix: Text Input for Birth Date with Mask */}\n                                                <input\n                                                    type=\"tel\"\n                                                    className=\"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none\"\n                                                    placeholder=\"Data de Nascimento (DD/MM/AAAA)\"\n                                                    value={clientBirthDate}\n                                                    maxLength={10}\n                                                    onChange={(e) => handleBirthDateChange(e.target.value)}\n                                                />\n                                            </>\n                                        ) : (\n                                            !fromPortal && (\n                                                <div className=\"text-sm text-green-600 bg-green-50 p-3 rounded-lg flex items-center gap-2\">\n                                                    <CheckCircle className=\"w-4 h-4\" /> Olá, {clientName}!\n                                                </div>\n                                            )\n                                        )}\n\n                                        <div className=\"bg-gray-50 p-4 rounded-xl mt-4 space-y-2\">\n                                            <div className=\"flex justify-between text-sm\">\n                                                <span className=\"text-gray-500\">Serviço</span>\n                                                <span className=\"font-bold\">R$ {selectedService?.price.toFixed(2)}</span>\n                                            </div>\n                                            {cart.length > 0 && (\n                                                <div className=\"flex justify-between text-sm text-gray-600\">\n                                                    <span className=\"flex items-center gap-1\"><ShoppingBag className=\"w-3 h-3\" /> Produtos ({cart.length})</span>\n                                                    <span>R$ {cartTotal.toFixed(2)}</span>\n                                                </div>\n                                            )}\n                                            <div className=\"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 mt-2\">\n                                                <span>Total</span>\n                                                <span className=\"text-brand-600\">R$ {finalTotal.toFixed(2)}</span>\n                                            </div>\n                                        </div>\n\n                                        {/* Add ref for scroll targeting */}\n                                        <div ref={confirmBtnRef}>\n                                            <Button className=\"w-full py-4 text-lg font-bold shadow-xl shadow-brand-200\" onClick={handleBooking}>\n                                                Confirmar Agendamento\n                                            </Button>\n                                        </div>\n                                    </div>\n                                )}\n                            </div>\n                        )}\n                    </div>\n                )}\n\n                {step === 4 && (\n                    <div className=\"fixed inset-0 bg-white z-[60] flex flex-col items-center justify-center p-4 text-center animate-in zoom-in-95\">\n                        <div className=\"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-6 animate-bounce\">\n                            <CheckCircle className=\"w-12 h-12\" />\n                        </div>\n                        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Agendamento Confirmado!</h2>\n                        <p className=\"text-gray-600 mb-8 max-w-xs mx-auto text-lg\">\n                            Te esperamos dia <span className=\"font-bold\">{new Date(selectedDate + 'T00:00:00').toLocaleDateString()}</span> às <span className=\"font-bold\">{selectedTime}</span>.\n                        </p>\n                        <div className=\"w-full max-w-xs space-y-3\">\n                            <Button className=\"w-full py-3\" onClick={() => {\n                                if (fromPortal) {\n                                    onBack();\n                                } else {\n                                    setStep(0); setSelectedService(null); setSelectedProfessional(null); setSelectedDate(''); setSelectedTime(''); setCart([]); setClientView('home');\n                                }\n                            }}>\n                                Voltar ao Início\n                            </Button>\n                        </div>\n                    </div>\n                )}\n\n                {/* Review Modal */}\n                <Modal isOpen={isReviewModalOpen} onClose={() => setIsReviewModalOpen(false)} title=\"Avaliar Experiência\">\n                    <div className=\"space-y-4\">\n                        <div className=\"text-center\">\n                            <p className=\"text-gray-600 mb-4\">Quantas estrelas você dá para o {salon.name}?</p>\n                            <div className=\"flex justify-center gap-2 mb-4\">\n                                {[1, 2, 3, 4, 5].map((star) => (\n                                    <button\n                                        key={star}\n                                        onClick={() => setNewReviewRating(star)}\n                                        className=\"transition-transform hover:scale-110\"\n                                    >\n                                        <Star\n                                            className={`w-8 h-8 ${star <= newReviewRating ? 'fill-yellow-400 text-yellow-400' : 'text-gray-300'}`}\n                                        />\n                                    </button>\n                                ))}\n                            </div>\n                        </div>\n\n                        <div>\n                            <label className=\"block text-sm font-bold text-gray-700 mb-2\">Seu Comentário (Opcional)</label>\n                            <textarea\n                                className=\"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none transition-all\"\n                                rows={4}\n                                placeholder=\"Conte como foi sua experiência...\"\n                                value={newReviewComment}\n                                onChange={(e) => setNewReviewComment(e.target.value)}\n                            />\n                        </div>\n\n                        <div className=\"grid grid-cols-2 gap-3\">\n                            <Button variant=\"outline\" onClick={() => setIsReviewModalOpen(false)}>Cancelar</Button>\n                            <Button onClick={handleSubmitReview} disabled={newReviewRating === 0}>Enviar Avaliação</Button>\n                        </div>\n                    </div>\n                </Modal>\n\n                {/* My Appointments Lookup Modal */}\n                <Modal isOpen={isMyApptsOpen} onClose={() => setIsMyApptsOpen(false)} title=\"Meus Agendamentos\">\n                    <div className=\"space-y-4\">\n                        <p className=\"text-sm text-gray-600\">Digite seu telefone para ver seus próximos horários neste salão.</p>\n                        <div className=\"flex gap-2\">\n                            <Input\n                                placeholder=\"Telefone (DDD+Número)\"\n                                value={lookupPhone}\n                                onChange={(e) => setLookupPhone(e.target.value)}\n                                className=\"mb-0\"\n                            />\n                            <Button onClick={handleLookupAppointments}><Search className=\"w-4 h-4\" /></Button>\n                        </div>\n\n                        <div className=\"space-y-3 max-h-[50vh] overflow-y-auto\">\n                            {myFoundAppts.length > 0 ? (\n                                myFoundAppts.map(app => (\n                                    <div key={app.id} className=\"bg-gray-50 p-3 rounded-xl border border-gray-200\">\n                                        <div className=\"font-bold text-gray-900\">\n                                            {new Date(app.date).toLocaleDateString()} às {new Date(app.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                                        </div>\n                                        <div className=\"text-sm text-gray-600\">\n                                            {salon.services.find(s => s.id === app.serviceId)?.name}\n                                        </div>\n                                        <div className=\"text-xs text-brand-600 font-medium mt-1\">\n                                            Com {salon.professionals.find(p => p.id === app.professionalId)?.name}\n                                        </div>\n                                    </div>\n                                ))\n                            ) : (\n                                lookupPhone && <div className=\"text-center text-sm text-gray-400 py-4\">Nenhum agendamento futuro encontrado.</div>\n                            )}\n                        </div>\n                        <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsMyApptsOpen(false)}>Fechar</Button>\n                    </div>\n                </Modal>\n            </div>\n        </AppShell >\n    );\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10.268 21a2 2 0 0 0 3.464 0', key: 'vwvbt9' }],\n  [\n    'path',\n    {\n      d: 'M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326',\n      key: '11g9vi',\n    },\n  ],\n];\n\n/**\n * @component @name Bell\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMjY4IDIxYTIgMiAwIDAgMCAzLjQ2NCAwIiAvPgogIDxwYXRoIGQ9Ik0zLjI2MiAxNS4zMjZBMSAxIDAgMCAwIDQgMTdoMTZhMSAxIDAgMCAwIC43NC0xLjY3M0MxOS40MSAxMy45NTYgMTggMTIuNDk5IDE4IDhBNiA2IDAgMCAwIDYgOGMwIDQuNDk5LTEuNDExIDUuOTU2LTIuNzM4IDcuMzI2IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bell\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bell = createLucideIcon('bell', __iconNode);\n\nexport default Bell;\n","\r\nimport React from 'react';\r\nimport { Review } from '../types';\r\nimport { StarRating } from './StarRating';\r\n\r\ninterface ReviewListProps {\r\n    reviews: Review[];\r\n}\r\n\r\nexport const ReviewList: React.FC<ReviewListProps> = ({ reviews }) => {\r\n    if (!reviews || reviews.length === 0) {\r\n        return (\r\n            <div className=\"text-center py-8 bg-gray-50 rounded-lg\">\r\n                <p className=\"text-gray-500\">Ainda não há avaliações. Seja o primeiro a avaliar!</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Sort by date desc\r\n    const sortedReviews = [...reviews].sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            {sortedReviews.map((review) => (\r\n                <div key={review.id} className=\"bg-white p-4 rounded-lg shadow-sm border border-gray-100\">\r\n                    <div className=\"flex justify-between items-start mb-2\">\r\n                        <div>\r\n                            <p className=\"font-semibold text-gray-800\">{review.clientName}</p>\r\n                            <span className=\"text-xs text-gray-400\">{new Date(review.date).toLocaleDateString()}</span>\r\n                        </div>\r\n                        <StarRating rating={review.rating} size={16} />\r\n                    </div>\r\n                    <p className=\"text-gray-600 text-sm mt-1\">{review.comment}</p>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n","\r\nimport React from 'react';\r\nimport { Star, StarHalf } from 'lucide-react';\r\n\r\ninterface StarRatingProps {\r\n    rating: number; // 0 to 5\r\n    editable?: boolean;\r\n    onRate?: (rating: number) => void;\r\n    size?: number;\r\n    showCount?: boolean;\r\n    count?: number;\r\n}\r\n\r\nexport const StarRating: React.FC<StarRatingProps> = ({\r\n    rating,\r\n    editable = false,\r\n    onRate,\r\n    size = 20,\r\n    showCount = false,\r\n    count = 0\r\n}) => {\r\n    const stars = [];\r\n\r\n    for (let i = 1; i <= 5; i++) {\r\n        const isFull = i <= rating;\r\n        const isHalf = !isFull && i - 0.5 <= rating;\r\n\r\n        stars.push(\r\n            <button\r\n                key={i}\r\n                type=\"button\"\r\n                disabled={!editable}\r\n                onClick={() => editable && onRate && onRate(i)}\r\n                className={`${editable ? 'cursor-pointer hover:scale-110 transition-transform' : 'cursor-default'} focus:outline-none`}\r\n            >\r\n                {isFull ? (\r\n                    <Star size={size} className=\"fill-yellow-400 text-yellow-400\" />\r\n                ) : isHalf ? (\r\n                    <div className=\"relative\">\r\n                        <Star size={size} className=\"text-gray-300\" />\r\n                        <div className=\"absolute top-0 left-0 overflow-hidden w-1/2\">\r\n                            <Star size={size} className=\"fill-yellow-400 text-yellow-400\" />\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <Star size={size} className=\"text-gray-300\" />\r\n                )}\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex items-center gap-1\">\r\n            {stars}\r\n            {showCount && <span className=\"text-sm text-gray-500 ml-2\">({count})</span>}\r\n        </div>\r\n    );\r\n};\r\n","\r\nimport React, { useState } from 'react';\r\nimport { Modal, Button, Input } from './UI';\r\nimport { Bell } from 'lucide-react';\r\n\r\ninterface WaitlistModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    salonName: string;\r\n    serviceName?: string;\r\n    date?: string;\r\n    onJoin: (phone: string, email: string) => void;\r\n}\r\n\r\nexport const WaitlistModal: React.FC<WaitlistModalProps> = ({ isOpen, onClose, salonName, serviceName, date, onJoin }) => {\r\n    const [phone, setPhone] = useState('');\r\n    const [email, setEmail] = useState('');\r\n\r\n    const handleSubmit = () => {\r\n        if (phone) {\r\n            onJoin(phone, email);\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal isOpen={isOpen} onClose={onClose} title=\"Entrar na Lista de Espera\">\r\n            <div className=\"space-y-4 text-center\">\r\n                <div className=\"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto text-brand-600 mb-2\">\r\n                    <Bell className=\"w-8 h-8\" />\r\n                </div>\r\n                <p className=\"text-gray-600\">\r\n                    O horário desejado para <strong>{serviceName}</strong> em <strong>{salonName}</strong> está indisponível?\r\n                </p>\r\n                <div className=\"bg-amber-50 text-amber-800 p-3 rounded-lg text-sm font-medium\">\r\n                    Seja avisado assim que vagar!\r\n                </div>\r\n\r\n                <div className=\"space-y-3 text-left\">\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase ml-1\">Seu Telefone</label>\r\n                        <Input\r\n                            placeholder=\"(11) 99999-9999\"\r\n                            value={phone}\r\n                            onChange={(e) => setPhone(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"text-xs font-bold text-gray-500 uppercase ml-1\">E-mail (Opcional)</label>\r\n                        <Input\r\n                            placeholder=\"seu@email.com\"\r\n                            value={email}\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Button className=\"w-full py-3\" onClick={handleSubmit}>\r\n                    Quero ser avisado\r\n                </Button>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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","ignoreList":[2]}