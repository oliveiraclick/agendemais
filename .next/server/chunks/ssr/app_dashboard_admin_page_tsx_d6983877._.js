module.exports=[59796,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(94134),f=a.i(68377),g=a.i(30617),h=a.i(60246),i=a.i(20005),j=a.i(70106);let k=(0,j.default)("tags",[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]]);var l=a.i(90166);let m=(0,j.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var n=a.i(56468),o=a.i(16201),p=a.i(50429);let q=(0,j.default)("party-popper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]),r=({onNavigate:a,onLogout:c})=>{let{salons:j,saasPlans:r,coupons:s,saasRevenueGoal:t,createSalon:u,updateSaaSPlan:v,createCoupon:w,toggleSalonStatus:x}=(0,e.useStore)(),[y,z]=(0,d.useState)("dashboard"),[A,B]=(0,d.useState)(""),[C,D]=(0,d.useState)(""),[E,F]=(0,d.useState)(null),G=j.reduce((a,b)=>a+("active"===b.subscriptionStatus?b.monthlyFee:0),0),H=j.length,I=j.filter(a=>"active"===a.subscriptionStatus).length,J=j.filter(a=>"late"===a.subscriptionStatus).length,K=Math.min(G/t*100,100),L=j.filter(a=>!0).length,M=(0,b.jsxs)("div",{className:"px-4 py-3 bg-gray-900 text-white flex justify-between items-center shadow-md",children:[(0,b.jsxs)("div",{className:"font-bold flex items-center gap-2",children:[(0,b.jsx)(l.DollarSign,{className:"w-5 h-5 text-green-400"})," Admin Financeiro"]}),(0,b.jsxs)("button",{onClick:c,className:"text-xs text-gray-300 hover:text-white font-medium flex items-center gap-1",children:[(0,b.jsx)(i.LogOut,{className:"w-3 h-3"})," Sair"]})]});return(0,b.jsx)(f.AppShell,{header:M,bottomNav:(0,b.jsxs)(f.MobileNav,{children:[(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(g.LayoutDashboard,{}),label:"Dashboard",active:"dashboard"===y,onClick:()=>z("dashboard")}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(h.Users,{}),label:"Clientes",active:"clients"===y,onClick:()=>z("clients")}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(l.DollarSign,{}),label:"Planos",active:"plans"===y,onClick:()=>z("plans")}),(0,b.jsx)(f.MobileNavItem,{icon:(0,b.jsx)(k,{}),label:"Cupons",active:"coupons"===y,onClick:()=>z("coupons")})]}),children:(0,b.jsx)("div",{className:"p-4 pb-24",children:(()=>{switch(y){case"dashboard":return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(f.Card,{className:"bg-gradient-to-r from-gray-900 to-gray-800 text-white border-0 relative overflow-visible",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-2 relative z-10",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-xs uppercase font-bold mb-1",children:[(0,b.jsx)(p.Target,{className:"w-4 h-4 text-green-400"})," Meta MRR"]}),(0,b.jsxs)("div",{className:"text-3xl font-bold",children:["R$ ",G.toFixed(2)]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Objetivo"}),(0,b.jsxs)("div",{className:"font-bold",children:["R$ ",t.toFixed(0)]})]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-700 h-3 rounded-full overflow-hidden relative z-10",children:(0,b.jsx)("div",{className:`h-full rounded-full transition-all duration-1000 ${K>=100?"bg-green-500":"bg-green-400"}`,style:{width:`${K}%`}})}),(0,b.jsxs)("div",{className:"text-right text-[10px] text-gray-400 mt-1 relative z-10",children:[K.toFixed(0),"% da meta"]})]}),(0,b.jsxs)("div",{className:"bg-purple-50 border border-purple-100 p-4 rounded-xl flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-purple-100 p-2 rounded-full",children:(0,b.jsx)(q,{className:"w-5 h-5 text-purple-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-purple-900",children:"Novos Clientes"}),(0,b.jsx)("p",{className:"text-xs text-purple-700",children:"Este mês"})]})]}),(0,b.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["+",L]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)(f.Card,{className:"p-4 border-l-4 border-brand-500",children:[(0,b.jsx)("div",{className:"text-gray-500 text-xs uppercase mb-1",children:"Total Salões"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:H}),(0,b.jsxs)("div",{className:"text-[10px] text-green-600 font-medium",children:[I," ativos"]})]}),(0,b.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-100",children:[(0,b.jsx)("div",{className:"text-blue-600 font-bold text-lg",children:s.length}),(0,b.jsx)("div",{className:"text-xs text-blue-400",children:"Cupons Ativos"})]})]}),(0,b.jsx)(f.Card,{title:"Saúde da Carteira",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Em dia"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-green-500",style:{width:`${I/H*100}%`}})}),(0,b.jsx)("span",{className:"text-xs font-bold",children:I})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Inadimplentes"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-red-500",style:{width:`${J/H*100}%`}})}),(0,b.jsx)("span",{className:"text-xs font-bold",children:J})]})]})]})})]});case"clients":return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2 px-1",children:[(0,b.jsx)("h3",{className:"font-bold text-gray-700",children:"Gestão de Assinaturas"}),(0,b.jsxs)(f.Badge,{color:"gray",children:[j.length," contratos"]})]}),j.map(a=>(0,b.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-bold text-gray-900",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Desde ",new Date().toLocaleDateString()]})]}),(0,b.jsx)(f.Badge,{color:"active"===a.subscriptionStatus?"green":"red",children:"active"===a.subscriptionStatus?"Em dia":"Atrasado"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 py-3 border-t border-gray-50 mt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[10px] text-gray-400 uppercase",children:"Plano"}),(0,b.jsx)("div",{className:"font-medium text-sm capitalize",children:a.plan})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[10px] text-gray-400 uppercase",children:"Valor"}),(0,b.jsxs)("div",{className:"font-medium text-sm",children:["R$ ",a.monthlyFee?.toFixed(2)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[10px] text-gray-400 uppercase",children:"Cobrança"}),(0,b.jsxs)("div",{className:"font-medium text-sm text-gray-600",children:[new Date(a.nextBillingDate).getDate(),"/",new Date(a.nextBillingDate).getMonth()+1]})]})]}),(0,b.jsx)("div",{className:"flex gap-2 mt-2",children:"active"===a.subscriptionStatus?(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full text-xs py-1.5 h-auto text-red-600 border-red-100 hover:bg-red-50",onClick:()=>x(a.id),children:[(0,b.jsx)(n.Ban,{className:"w-3 h-3 mr-1 inline"})," Bloquear / Marcar Atrasado"]}):(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full text-xs py-1.5 h-auto text-green-600 border-green-100 hover:bg-green-50",onClick:()=>x(a.id),children:[(0,b.jsx)(o.CheckCircle,{className:"w-3 h-3 mr-1 inline"})," Confirmar Pagamento"]})})]},a.id))]});case"plans":return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-gray-500 px-1",children:"Edite os planos abaixo. As alterações refletem imediatamente na Landing Page."}),r.map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center",children:[(0,b.jsx)("div",{className:"font-bold text-gray-900",children:a.name}),a.isRecommended&&(0,b.jsx)(f.Badge,{color:"blue",children:"Destaque"})]}),E?.id===a.id?(0,b.jsxs)("div",{className:"p-4 space-y-3 bg-brand-50/50",children:[(0,b.jsx)(f.Input,{label:"Preço Mensal (R$)",type:"number",value:E.price,onChange:a=>F({...E,price:parseFloat(a.target.value)}),className:"bg-white"}),(0,b.jsx)(f.Input,{label:"Adicional por Profissional (R$)",type:"number",value:E.perProfessionalPrice,onChange:a=>F({...E,perProfessionalPrice:parseFloat(a.target.value)}),className:"bg-white"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{className:"flex-1",onClick:()=>{v(E),F(null)},children:"Salvar"}),(0,b.jsx)(f.Button,{variant:"outline",className:"flex-1",onClick:()=>F(null),children:"Cancelar"})]})]}):(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between items-end mb-4",children:[(0,b.jsxs)("div",{className:"text-2xl font-extrabold text-gray-900",children:["R$ ",a.price]}),(0,b.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["+ R$ ",a.perProfessionalPrice," / prof"]})]}),(0,b.jsx)("ul",{className:"text-xs text-gray-500 space-y-1 mb-4",children:a.features.slice(0,3).map((a,c)=>(0,b.jsxs)("li",{children:["• ",a]},c))}),(0,b.jsxs)(f.Button,{variant:"outline",className:"w-full",onClick:()=>F(a),children:[(0,b.jsx)(m,{className:"w-3 h-3 mr-2 inline"})," Editar Preço"]})]})]},a.id))]});case"coupons":return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(f.Card,{className:"p-4 bg-brand-50 border-brand-100",children:[(0,b.jsx)("h3",{className:"font-bold text-brand-900 mb-3 text-sm",children:"Criar Novo Cupom"}),(0,b.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,b.jsx)(f.Input,{placeholder:"Código (ex: BLACK50)",className:"bg-white mb-0",value:A,onChange:a=>B(a.target.value.toUpperCase())}),(0,b.jsx)(f.Input,{type:"number",placeholder:"%",className:"w-20 bg-white mb-0",value:C,onChange:a=>D(a.target.value)})]}),(0,b.jsx)(f.Button,{className:"w-full",onClick:()=>{A&&C&&(w(A,parseFloat(C)),B(""),D(""))},children:"Criar Cupom"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase px-1",children:"Cupons Ativos"}),0===s.length&&(0,b.jsx)("p",{className:"text-sm text-gray-400 px-1",children:"Nenhum cupom criado."}),s.map(a=>(0,b.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-100 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-mono font-bold text-lg text-brand-600",children:a.code}),(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.discountPercent,"% de desconto"]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)(f.Badge,{color:"blue",children:[a.uses," usos"]}),(0,b.jsx)("div",{className:"text-[10px] text-green-600 font-bold mt-1",children:"ATIVO"})]})]},a.id))]})]});default:return null}})()})})};function s(){let a=(0,c.useRouter)();return(0,b.jsx)(r,{onNavigate:(b,c)=>{"tenant"===b?a.push(`/dashboard/tenant/${c}`):a.push(`/booking/${c}`)},onLogout:()=>a.push("/login?context=admin")})}a.s(["default",()=>s],59796)}];

//# sourceMappingURL=app_dashboard_admin_page_tsx_d6983877._.js.map