{"version":3,"sources":["../../../../app/portal/page.tsx","../../../../modules/ClientPortal.tsx","../../../../components/LoyaltyCard.tsx"],"sourcesContent":["'use client';\r\nimport React, { Suspense } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { ClientPortal } from '@/modules/ClientPortal';\r\n\r\nfunction ClientPortalContent() {\r\n    const router = useRouter();\r\n    const searchParams = useSearchParams();\r\n    const clientPhone = searchParams.get('phone') || '';\r\n\r\n    if (!clientPhone) {\r\n        // Handle missing phone, maybe redirect to login\r\n        // router.push('/login'); \r\n        // But stay here to avoid loops in dev\r\n        return <div>Erro: Telefone não informado.</div>;\r\n    }\r\n\r\n    return (\r\n        <ClientPortal\r\n            clientPhone={clientPhone}\r\n            onSelectSalon={(id) => router.push(`/booking/${id}?clientPhone=${clientPhone}&fromPortal=true`)}\r\n            onLogout={() => router.push('/')}\r\n        />\r\n    );\r\n}\r\n\r\nexport default function ClientPortalPage() {\r\n    return (\r\n        <Suspense fallback={<div>Carregando...</div>}>\r\n            <ClientPortalContent />\r\n        </Suspense>\r\n    );\r\n}\r\n","\nimport React, { useState } from 'react';\nimport { useStore } from '../store';\nimport { AppShell, MobileNav, MobileNavItem, Button, Card } from '../components/UI';\nimport { LoyaltyCard } from '../components/LoyaltyCard';\nimport { LogOut, Calendar, MapPin, User, Home, Clock, MessageCircle, Instagram, Globe, History, CheckCircle, Store, ChevronLeft, ArrowRight, Star, XCircle, Image, Facebook, Gift } from 'lucide-react';\n\nexport const ClientPortal: React.FC<{\n    clientPhone: string;\n    onSelectSalon: (salonId: string) => void;\n    onLogout: () => void;\n}> = ({ clientPhone, onSelectSalon, onLogout }) => {\n    const { salons, getClientByPhone, cancelAppointment } = useStore();\n\n    // 'list' = Meus Favoritos (Tela Inicial)\n    // 'dashboard' = Dentro de um salão específico\n    const [viewMode, setViewMode] = useState<'list' | 'dashboard'>('list');\n    const [activeTab, setActiveTab] = useState<'home' | 'profile'>('home'); // Tabs dentro do Dashboard\n    const [selectedSalonId, setSelectedSalonId] = useState<string | null>(null);\n\n    const client = getClientByPhone(clientPhone);\n\n    // 1. Identificar Favoritos\n    const mySalons = salons.filter(salon =>\n        salon.appointments.some(appt => appt.clientPhone === clientPhone)\n    );\n    // Fallback para Demo se não tiver histórico\n    const displaySalons = mySalons.length > 0 ? mySalons : salons;\n\n    const currentSalon = salons.find(s => s.id === selectedSalonId);\n\n    // --- Handlers ---\n\n    const handleEnterSalon = (id: string) => {\n        setSelectedSalonId(id);\n        setViewMode('dashboard');\n        setActiveTab('home');\n    };\n\n    const handleBackToFavorites = () => {\n        setViewMode('list');\n        setSelectedSalonId(null);\n    };\n\n    const handleAgendaClick = () => {\n        if (selectedSalonId) {\n            onSelectSalon(selectedSalonId);\n        }\n    };\n\n    const handleCancelAppointment = (apptId: string) => {\n        if (!currentSalon) return;\n\n        if (currentSalon.allowClientCancellation === false) {\n            alert(`O estabelecimento ${currentSalon.name} não permite cancelamentos pelo aplicativo. Por favor, entre em contato diretamente.`);\n            return;\n        }\n\n        if (confirm(\"Tem certeza que deseja cancelar este agendamento?\")) {\n            cancelAppointment(currentSalon.id, apptId);\n        }\n    };\n\n    // --- Renderers ---\n\n    const renderFavoritesList = () => (\n        <div className=\"space-y-6 animate-in fade-in slide-in-from-left-4\">\n            <div className=\"bg-brand-600 p-6 rounded-b-[2rem] -mx-4 -mt-4 shadow-lg mb-6\">\n                <div className=\"flex justify-between items-start text-white\">\n                    <div>\n                        <h1 className=\"text-2xl font-bold\">Olá, {client?.name?.split(' ')[0] || 'Visitante'}</h1>\n                        <p className=\"text-brand-100 text-sm\">Onde vamos agendar hoje?</p>\n                    </div>\n                    <div className=\"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm\">\n                        <User className=\"w-5 h-5 text-white\" />\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"px-1\">\n                <h2 className=\"font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                    <Star className=\"w-5 h-5 text-yellow-500 fill-current\" /> Favoritos\n                </h2>\n                <div className=\"space-y-4\">\n                    {displaySalons.map(s => (\n                        <div\n                            key={s.id}\n                            onClick={() => handleEnterSalon(s.id)}\n                            className=\"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm flex items-center gap-4 cursor-pointer active:scale-[0.98] transition-transform hover:shadow-md\"\n                        >\n                            <div className=\"w-16 h-16 bg-gray-100 rounded-xl overflow-hidden flex-shrink-0\">\n                                <img src={s.coverImage || `https://ui-avatars.com/api/?name=${s.name}`} className=\"w-full h-full object-cover\" />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                                <h3 className=\"font-bold text-gray-900 text-lg truncate leading-tight\">{s.name}</h3>\n                                <p className=\"text-xs text-gray-500 truncate mb-1\">{s.address}</p>\n                                <div className=\"inline-flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded text-[10px] font-bold text-gray-600 uppercase\">\n                                    {s.category}\n                                </div>\n                            </div>\n                            <div className=\"bg-brand-50 p-2 rounded-full text-brand-600\">\n                                <ArrowRight className=\"w-5 h-5\" />\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n\n            <div className=\"px-4 py-6\">\n                <Button variant=\"outline\" className=\"w-full border-red-200 text-red-600 hover:bg-red-50\" onClick={onLogout}>\n                    <LogOut className=\"w-4 h-4 mr-2\" /> Sair da Conta\n                </Button>\n            </div>\n        </div>\n    );\n\n    const renderSalonDashboard = () => {\n        if (!currentSalon) return null;\n\n        // Filter history\n        const history = currentSalon.appointments\n            .filter(a => a.clientPhone === clientPhone)\n            .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n\n        if (activeTab === 'profile') {\n            return (\n                <div className=\"space-y-6 animate-in slide-in-from-right-4 pt-4\">\n                    <div className=\"text-center\">\n                        <div className=\"w-20 h-20 bg-gray-200 rounded-full mx-auto mb-3 flex items-center justify-center text-gray-400 font-bold text-2xl\">\n                            {client?.name?.[0]}\n                        </div>\n                        <h2 className=\"text-xl font-bold text-gray-900\">{client?.name}</h2>\n                        <p className=\"text-sm text-gray-500\">{client?.phone}</p>\n                    </div>\n\n                    <div className=\"bg-white rounded-xl border border-gray-100 divide-y divide-gray-100\">\n                        <div className=\"p-4 flex justify-between items-center\">\n                            <span className=\"text-sm text-gray-600\">Visitas neste local</span>\n                            <span className=\"font-bold text-gray-900\">{history.length}</span>\n                        </div>\n                    </div>\n\n                    <Button variant=\"outline\" className=\"w-full\" onClick={handleBackToFavorites}>\n                        <ArrowRight className=\"w-4 h-4 mr-2 rotate-180\" /> Trocar de Estabelecimento\n                    </Button>\n                </div>\n            );\n        }\n\n        return (\n            <div className=\"space-y-8 animate-in fade-in duration-500 pt-2\">\n                {/* 1. Bem-vindo */}\n                <div className=\"bg-brand-600 text-white p-6 rounded-2xl shadow-lg shadow-brand-200 relative overflow-hidden\">\n                    <div className=\"relative z-10\">\n                        <h2 className=\"text-xl font-bold mb-1\">Bem-vindo(a), {client?.name?.split(' ')[0]}!</h2>\n                        <p className=\"text-brand-100 text-sm mb-4 opacity-90\">É ótimo ter você no {currentSalon.name}.</p>\n\n                        <div className=\"inline-flex bg-white/20 backdrop-blur-md px-3 py-1.5 rounded-lg items-center gap-2 text-xs font-medium\">\n                            <Clock className=\"w-3 h-3\" /> Aberto: {currentSalon.openTime} - {currentSalon.closeTime}\n                        </div>\n                    </div>\n                    <div className=\"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4\">\n                        <Store className=\"w-32 h-32\" />\n                    </div>\n                    <div className=\"absolute right-0 bottom-0 opacity-10 transform translate-x-4 translate-y-4\">\n                        <Store className=\"w-32 h-32\" />\n                    </div>\n                </div>\n\n                {/* 2. Fidelidade */}\n                {client?.loyaltyCards?.find(fc => fc.salonId === currentSalon.id) && (\n                    <div>\n                        <h3 className=\"font-bold text-gray-900 text-lg mb-3 px-1 flex items-center gap-2\">\n                            <Gift className=\"w-5 h-5 text-brand-600\" /> Fidelidade\n                        </h3>\n                        <LoyaltyCard\n                            salonName={currentSalon.name}\n                            {...client.loyaltyCards.find(fc => fc.salonId === currentSalon.id)!}\n                        />\n                    </div>\n                )}\n\n                {/* 3. Sobre Nós */}\n                <div>\n                    <h3 className=\"font-bold text-gray-900 text-lg mb-3 px-1\">Sobre Nós</h3>\n                    <div className=\"bg-white p-4 rounded-xl border border-gray-100 shadow-sm text-sm text-gray-600 leading-relaxed\">\n                        {currentSalon.aboutUs || \"Descrição não informada.\"}\n                    </div>\n                </div>\n\n                {/* 3. Botão de Ação (Posicionado conforme pedido) */}\n                <div className=\"pt-2\">\n                    <Button className=\"w-full py-4 text-lg font-bold shadow-xl shadow-brand-200 flex items-center justify-center gap-2\" onClick={handleAgendaClick}>\n                        <Calendar className=\"w-5 h-5\" /> Agendar Agora\n                    </Button>\n                </div>\n\n                {/* 4. Galeria de Fotos */}\n                <div>\n                    <h3 className=\"font-bold text-gray-900 text-lg mb-3 px-1 flex items-center gap-2\">\n                        <Image className=\"w-5 h-5 text-brand-600\" /> Galeria de Fotos\n                    </h3>\n                    {currentSalon.gallery && currentSalon.gallery.length > 0 ? (\n                        <div className=\"flex gap-3 overflow-x-auto pb-4 no-scrollbar -mx-4 px-4\">\n                            {currentSalon.gallery.map((img, i) => (\n                                <div key={i} className=\"flex-shrink-0 w-40 h-40 rounded-xl overflow-hidden shadow-sm bg-gray-100\">\n                                    <img src={img} className=\"w-full h-full object-cover\" />\n                                </div>\n                            ))}\n                        </div>\n                    ) : (\n                        <div className=\"bg-gray-50 p-6 rounded-xl text-center text-gray-400 text-sm\">\n                            Sem fotos disponíveis.\n                        </div>\n                    )}\n                </div>\n\n                {/* 5. Localização */}\n                <div>\n                    <h3 className=\"font-bold text-gray-900 text-lg mb-3 px-1 flex items-center gap-2\">\n                        <MapPin className=\"w-5 h-5 text-brand-600\" /> Localização\n                    </h3>\n                    <div className=\"bg-white p-4 rounded-xl border border-gray-100 shadow-sm\">\n                        <p className=\"text-sm text-gray-700 font-medium mb-3\">{currentSalon.address}</p>\n                        <div className=\"h-32 bg-gray-200 rounded-lg w-full flex items-center justify-center text-gray-400 text-xs font-bold uppercase tracking-wider\">\n                            Mapa do Google\n                        </div>\n                    </div>\n                </div>\n\n                {/* 6. Histórico */}\n                <div>\n                    <h3 className=\"font-bold text-gray-900 text-lg mb-3 px-1 flex items-center gap-2\">\n                        <History className=\"w-5 h-5 text-brand-600\" /> Histórico\n                    </h3>\n                    <div className=\"space-y-3\">\n                        {history.length > 0 ? (\n                            history.slice().reverse().map(app => (\n                                <div key={app.id} className=\"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex justify-between items-center\">\n                                    <div>\n                                        <div className=\"font-bold text-gray-900 text-sm\">\n                                            {new Date(app.date).toLocaleDateString()}\n                                        </div>\n                                        <div className=\"text-xs text-gray-500 mt-0.5\">\n                                            {new Date(app.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} • {currentSalon.services.find(s => s.id === app.serviceId)?.name}\n                                        </div>\n                                    </div>\n                                    <div className=\"flex flex-col items-end gap-2\">\n                                        {app.status === 'completed' && <div className=\"text-xs font-bold text-green-600 bg-green-50 px-2 py-1 rounded\">Concluído</div>}\n                                        {app.status === 'cancelled' && <div className=\"text-xs font-bold text-red-600 bg-red-50 px-2 py-1 rounded\">Cancelado</div>}\n                                        {app.status === 'scheduled' && (\n                                            <>\n                                                <div className=\"text-xs font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded\">Agendado</div>\n                                                <button\n                                                    onClick={() => handleCancelAppointment(app.id)}\n                                                    className=\"text-[10px] text-red-500 underline hover:text-red-700\"\n                                                >\n                                                    Cancelar\n                                                </button>\n                                            </>\n                                        )}\n                                    </div>\n                                </div>\n                            ))\n                        ) : (\n                            <div className=\"text-center py-6 text-gray-400 text-sm\">\n                                Você ainda não tem agendamentos aqui.\n                            </div>\n                        )}\n                    </div>\n                </div>\n\n                {/* 7. Redes Sociais */}\n                <div className=\"grid grid-cols-4 gap-2 pt-4\">\n                    {currentSalon.socials?.whatsapp && (\n                        <a href={`https://wa.me/${currentSalon.socials.whatsapp}`} target=\"_blank\" className=\"bg-green-50 p-3 rounded-xl flex flex-col items-center gap-1 text-green-700 hover:bg-green-100 transition-colors\">\n                            <MessageCircle className=\"w-6 h-6\" />\n                            <span className=\"text-[10px] font-bold\">Whats</span>\n                        </a>\n                    )}\n                    {currentSalon.socials?.instagram && (\n                        <a href={`https://instagram.com/${currentSalon.socials.instagram.replace('@', '')}`} target=\"_blank\" className=\"bg-purple-50 p-3 rounded-xl flex flex-col items-center gap-1 text-purple-700 hover:bg-purple-100 transition-colors\">\n                            <Instagram className=\"w-6 h-6\" />\n                            <span className=\"text-[10px] font-bold\">Insta</span>\n                        </a>\n                    )}\n                    {currentSalon.socials?.facebook && (\n                        <a href={currentSalon.socials.facebook} target=\"_blank\" className=\"bg-blue-50 p-3 rounded-xl flex flex-col items-center gap-1 text-blue-700 hover:bg-blue-100 transition-colors\">\n                            <Facebook className=\"w-6 h-6\" />\n                            <span className=\"text-[10px] font-bold\">Face</span>\n                        </a>\n                    )}\n                    {currentSalon.socials?.website && (\n                        <a href={currentSalon.socials.website} target=\"_blank\" className=\"bg-gray-50 p-3 rounded-xl flex flex-col items-center gap-1 text-gray-700 hover:bg-gray-100 transition-colors\">\n                            <Globe className=\"w-6 h-6\" />\n                            <span className=\"text-[10px] font-bold\">Site</span>\n                        </a>\n                    )}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <AppShell\n            header={\n                viewMode === 'list' ? (\n                    <div className=\"px-4 py-4 bg-white border-b border-gray-100\">\n                        <div className=\"font-bold text-lg text-brand-600\">Agende +</div>\n                    </div>\n                ) : (\n                    <div className=\"px-4 py-3 bg-white flex items-center gap-3 border-b border-gray-100 shadow-sm\">\n                        <button onClick={handleBackToFavorites} className=\"p-1 -ml-1 text-gray-600 rounded-full hover:bg-gray-100\">\n                            <ChevronLeft className=\"w-6 h-6\" />\n                        </button>\n                        <div className=\"font-bold text-gray-900 truncate\">\n                            {currentSalon?.name}\n                        </div>\n                    </div>\n                )\n            }\n            bottomNav={\n                viewMode === 'dashboard' ? (\n                    <MobileNav>\n                        <MobileNavItem\n                            icon={<Home />}\n                            label=\"Home\"\n                            active={activeTab === 'home'}\n                            onClick={() => setActiveTab('home')}\n                        />\n                        <MobileNavItem\n                            icon={<Calendar />}\n                            label=\"Agenda\"\n                            active={false} // Always triggers action\n                            onClick={handleAgendaClick}\n                        />\n                        <MobileNavItem\n                            icon={<User />}\n                            label=\"Perfil\"\n                            active={activeTab === 'profile'}\n                            onClick={() => setActiveTab('profile')}\n                        />\n                    </MobileNav>\n                ) : null\n            }\n        >\n            <div className=\"p-4 pb-24\">\n                {viewMode === 'list' ? renderFavoritesList() : renderSalonDashboard()}\n            </div>\n        </AppShell>\n    );\n};\n","\r\nimport React from 'react';\r\nimport { Gift, CheckCircle } from 'lucide-react';\r\n\r\ninterface LoyaltyCardProps {\r\n    salonName: string;\r\n    stamps: number;\r\n    totalRequired: number;\r\n    reward: string;\r\n}\r\n\r\nexport const LoyaltyCard: React.FC<LoyaltyCardProps> = ({ salonName, stamps, totalRequired, reward }) => {\r\n    const slots = [];\r\n    for (let i = 1; i <= totalRequired; i++) {\r\n        const isStamped = i <= stamps;\r\n        slots.push(\r\n            <div key={i} className={`\r\n                w-10 h-10 rounded-full flex items-center justify-center border-2 \r\n                ${isStamped ? 'bg-brand-600 border-brand-600 text-white' : 'bg-white border-dashed border-gray-300'}\r\n            `}>\r\n                {isStamped ? <CheckCircle size={20} /> : <span className=\"text-gray-300 text-xs font-bold\">{i}</span>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden relative\">\r\n            <div className=\"bg-brand-600 p-4 text-white flex justify-between items-center\">\r\n                <span className=\"font-bold text-lg\">{salonName}</span>\r\n                <Gift className=\"opacity-80\" />\r\n            </div>\r\n            <div className=\"p-6\">\r\n                <div className=\"flex flex-wrap gap-3 justify-center mb-6\">\r\n                    {slots}\r\n                </div>\r\n                <div className=\"text-center\">\r\n                    <p className=\"text-sm text-gray-500 mb-1\">Prêmio ao completar:</p>\r\n                    <p className=\"font-bold text-brand-700 text-lg\">{reward}</p>\r\n                </div>\r\n                {stamps >= totalRequired && (\r\n                    <div className=\"mt-4 bg-green-100 text-green-700 p-3 rounded-lg text-center font-bold animate-pulse\">\r\n                        Cartão Completo! Resgate seu prêmio na recepção.\r\n                    </div>\r\n                )}\r\n            </div>\r\n            {/* Background decoration */}\r\n            <div className=\"absolute top-1/2 left-0 w-4 h-8 bg-gray-50 rounded-r-full -translate-y-1/2 border-r border-t border-b border-gray-200\" />\r\n            <div className=\"absolute top-1/2 right-0 w-4 h-8 bg-gray-50 rounded-l-full -translate-y-1/2 border-l border-t border-b border-gray-200\" />\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"wDACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCDA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OASO,IAAM,EAA0C,CAAC,WAAE,CAAS,QAAE,CAAM,eAAE,CAAa,QAAE,CAAM,CAAE,IAChG,IAAM,EAAQ,EAAE,CAChB,IAAK,IAAI,EAAI,EAAG,GAAK,EAAe,IAAK,CACrC,IAAM,EAAY,GAAK,EACvB,EAAM,IAAI,CACN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAY,UAAW,CAAC;;gBAErB,EAAE,EAAY,2CAA6C,yCAAyC;YACxG,CAAC,UACI,EAAY,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,KAAM,KAAS,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,2CAAmC,KAJtF,GAOlB,CAEA,MACI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2FACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0EACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,6BAAqB,IACrC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,kBAEpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACV,IAEL,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA6B,yBAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAoC,OAEpD,GAAU,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+FAAsF,wDAM7G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0HACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HAG3B,ED7CA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAEO,IAAM,EAIR,CAAC,aAAE,CAAW,eAAE,CAAa,UAAE,CAAQ,CAAE,IAC1C,GAAM,CAAE,QAAM,kBAAE,CAAgB,mBAAE,CAAiB,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IAI1D,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,QACzD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,QACzD,CADkE,AACjE,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEhE,CAH6F,CAGpF,EAAiB,GAG1B,EAAW,EAAO,MAAM,CAAC,GAC3B,EAAM,YAAY,CAAC,IAAI,CAAC,GAAQ,EAAK,WAAW,GAAK,IAGnD,EAAgB,EAAS,MAAM,CAAG,EAAI,EAAW,EAEjD,EAAe,EAAO,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,GAUzC,EAAwB,KAC1B,EAAY,QACZ,EAAmB,KACvB,EAEM,EAAoB,KAClB,GACA,EAAc,EAEtB,EA+PA,MACI,CAAA,CAnQqB,CAmQrB,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACL,OACI,AAAa,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CAAmC,eAGtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0FACX,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,QAAS,EAAuB,UAAU,kEAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACV,GAAc,UAK/B,UACiB,cAAb,EACI,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,WACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CACV,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAA,GACX,MAAM,OACN,OAAQ,AAAc,WACtB,QAAS,IAAM,EAAa,UAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CACV,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAA,GACf,MAAM,SACN,QAAQ,EACR,QAAS,IAEb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CACV,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAA,GACX,MAAM,SACN,OAAsB,YAAd,EACR,QAAS,IAAM,EAAa,gBAGpC,cAGR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACG,SAAS,AAAtB,EAzRT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,+BAAqB,QAAM,GAAQ,MAAM,MAAM,IAAI,CAAC,EAAE,EAAI,eACxE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAAyB,gCAE1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gGACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,8BAK5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,iEACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yCAAyC,gBAE7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACV,EAAc,GAAG,CAAC,GACf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEG,QAAS,IAAM,CArDnC,EAqDoD,EAAE,EAAE,EApDxD,EAAY,SADO,IAEnB,EAAa,SAoDO,UAAU,sKAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAE,UAAU,EAAI,CAAC,iCAAiC,EAAE,EAAE,IAAI,CAAA,CAAE,CAAE,UAAU,iCAEtF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kEAA0D,EAAE,IAAI,GAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAuC,EAAE,OAAO,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wHACV,EAAE,QAAQ,MAGnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gBAfrB,EAAE,EAAE,QAsBzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,qDAAqD,QAAS,YAC9F,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,iBAAiB,yBA6OQ,CAvO9B,KACzB,GAAI,CAAC,EAAc,OAAO,KAG1B,IAAM,EAAU,EAAa,YAAY,CACpC,MAAM,CAAC,GAAK,EAAE,WAAW,GAAK,GAC9B,IAAI,CAAC,CAAC,EAAG,IAAM,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,GAAK,IAAI,KAAK,EAAE,IAAI,EAAE,OAAO,UAEzE,AAAkB,WAAW,CAAzB,EAEI,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6HACV,GAAQ,MAAM,CAAC,EAAE,GAEtB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2CAAmC,GAAQ,OACzD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,GAAQ,WAGlD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,kDACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,wBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCAA2B,EAAQ,MAAM,QAIjE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,SAAS,QAAS,YAClD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,4BAA4B,mCAO9D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2DAEX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wGACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACX,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,mCAAyB,iBAAe,GAAQ,MAAM,MAAM,IAAI,CAAC,EAAE,CAAC,OAClF,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,mDAAyC,uBAAqB,EAAa,IAAI,CAAC,OAE7F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mHACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAY,YAAU,EAAa,QAAQ,CAAC,MAAI,EAAa,SAAS,OAG/F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sFACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,gBAErB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sFACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,mBAKxB,GAAQ,cAAc,KAAK,GAAM,EAAG,OAAO,GAAK,EAAa,EAAE,GAC5D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,2BAA2B,iBAE/C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACG,UAAW,EAAa,IAAI,CAC3B,GAAG,EAAO,YAAY,CAAC,IAAI,CAAC,GAAM,EAAG,OAAO,GAAK,EAAa,EAAE,CAAC,MAM9E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,qDAA4C,cAC1D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0GACV,EAAa,OAAO,EAAI,gCAKjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACX,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,kGAAkG,QAAS,YACzH,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YAAY,sBAKxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BAA2B,uBAE/C,EAAa,OAAO,EAAI,EAAa,OAAO,CAAC,MAAM,CAAG,EACnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACV,EAAa,OAAO,CAAC,GAAG,CAAC,CAAC,EAAK,IAC5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAY,UAAU,oFACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAK,EAAK,UAAU,gCADnB,MAMlB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEAA8D,8BAOrF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2BAA2B,kBAEjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACX,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAA0C,EAAa,OAAO,GAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wIAA+H,yBAOtJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAG,UAAU,8EACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,2BAA2B,gBAElD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACV,EAAQ,MAAM,CAAG,EACd,EAAQ,KAAK,GAAG,OAAO,GAAG,GAAG,CAAC,GAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAiB,UAAU,uGACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACG,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2CACV,IAAI,KAAK,EAAI,IAAI,EAAE,kBAAkB,KAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACV,IAAI,KAAK,EAAI,IAAI,EAAE,kBAAkB,CAAC,EAAE,CAAE,CAAE,KAAM,UAAW,OAAQ,SAAU,GAAG,MAAI,EAAa,QAAQ,CAAC,IAAI,CAAC,GAAK,EAAE,EAAE,GAAK,EAAI,SAAS,GAAG,WAGxJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0CACV,AAAe,gBAAX,MAAM,EAAoB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EAAiE,cAC/F,cAAf,EAAI,MAAM,EAAoB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEAA6D,cAC3F,cAAf,EAAI,MAAM,EACP,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACI,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wEAA+D,aAC9E,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACG,QAAS,IAAM,CA5M/B,AAAC,IAC7B,GAAK,CAAD,EAEJ,IAA6C,IAAzC,EAAa,CAFE,sBAEqB,CAAY,YAChD,MAAM,CAAC,kBAAkB,EAAE,EAAa,IAAI,CAAC,uFAAoF,CAAC,EAIlI,QAAQ,sDAAsD,AAC9D,EAAkB,EAAa,EAAE,CAAE,GAE3C,GAiMuF,EAAI,EAAE,EAC7C,UAAU,iEACb,qBAlBP,EAAI,EAAE,GA2BpB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDAAyC,+CAQpE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACV,EAAa,OAAO,EAAE,UACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,KAAM,CAAC,cAAc,EAAE,EAAa,OAAO,CAAC,QAAQ,CAAA,CAAE,CAAE,OAAO,SAAS,UAAU,4HACjF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,YACzB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,aAG/C,EAAa,OAAO,EAAE,WACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,KAAM,CAAC,sBAAsB,EAAE,EAAa,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,IAAK,IAAA,CAAK,CAAE,OAAO,SAAS,UAAU,+HAC3G,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,YACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,aAG/C,EAAa,OAAO,EAAE,UACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,KAAM,EAAa,OAAO,CAAC,QAAQ,CAAE,OAAO,SAAS,UAAU,yHAC9D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,YACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,YAG/C,EAAa,OAAO,EAAE,SACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,KAAM,EAAa,OAAO,CAAC,OAAO,CAAE,OAAO,SAAS,UAAU,yHAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,iBAMhE,QAkDJ,ED1VA,SAAS,IACL,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EADe,AACD,CADC,EAAA,EAAA,eAAA,AAAe,IACH,GAAG,CAAC,UAAY,UAEjD,AAAK,EAQD,CAAA,CARA,CAQA,EAAA,GAAA,EAAC,CARa,CAQb,CACG,YAAa,EACb,cAAe,AAAC,GAAO,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,EAAG,aAAa,EAAE,EAAY,gBAAgB,CAAC,EAC9F,SAAU,IAAM,EAAO,IAAI,CAAC,OAPzB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,iCAUpB,CAEe,SAAS,IACpB,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAI,2BACrB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGb"}