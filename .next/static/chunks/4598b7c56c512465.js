(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,s)=>{a.exports=e.r(76562)},92891,23962,48256,23102,83157,94983,88844,20278,31091,30699,50965,73708,46897,27516,51804,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(75254);let l=(0,t.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var r=e.i(37727);let i=(0,t.default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);e.s(["QrCode",()=>i],23962);let n=(0,t.default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>n],48256);let d=(0,t.default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);e.s(["Instagram",()=>d],23102);let c=(0,t.default)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);e.s(["Facebook",()=>c],83157);let o=(0,t.default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>o],94983);let x=(0,t.default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["Package",()=>x],88844);let m=(0,t.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);e.s(["Target",()=>m],20278);let h=(0,t.default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]);e.s(["Megaphone",()=>h],31091),(0,t.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);let g=(0,t.default)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);e.s(["Gift",()=>g],30699);let u=(0,t.default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>u],50965);let p=(0,t.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>p],73708);let b=(0,t.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>b],46897);let f=(0,t.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);e.s(["History",()=>f],27516);let j=(0,t.default)("calendar-check",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);e.s(["CalendarCheck",()=>j],51804),e.s(["AgendeLogo",0,({className:e})=>(0,a.jsx)("img",{src:"/logo.png",className:`object-contain ${e}`,alt:"Agende Mais"}),"AppShell",0,({children:e,header:s,bottomNav:t,className:l})=>(0,a.jsxs)("div",{className:`flex flex-col h-[100dvh] w-full bg-gray-50 ${l||""}`,children:[s&&(0,a.jsx)("div",{className:"flex-none bg-white border-b border-gray-100 z-30",children:s}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar pb-24",children:e}),t&&(0,a.jsx)("div",{className:"flex-none fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 pb-safe-area shadow-2xl",children:t})]}),"Badge",0,({color:e,children:s,className:t})=>(0,a.jsx)("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${{green:"bg-green-100 text-green-800",blue:"bg-blue-100 text-blue-800",red:"bg-red-100 text-red-800",yellow:"bg-yellow-100 text-yellow-800",gray:"bg-gray-100 text-gray-800"}[e]} ${t||""}`,children:s}),"Button",0,({variant:e="primary",size:s="md",className:t,...l})=>(0,a.jsx)("button",{className:`font-bold rounded-xl transition-all duration-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-brand-600 hover:bg-brand-700 text-white shadow-lg shadow-brand-500/30 hover:shadow-brand-500/50",secondary:"bg-brand-100 hover:bg-brand-200 text-brand-700",outline:"border-2 border-brand-600 text-brand-600 hover:bg-brand-50",danger:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200"}[e]} ${{sm:"px-3 py-1.5 text-sm",md:"px-4 py-3 text-sm",lg:"px-6 py-4 text-lg"}[s]} ${t||""}`,...l}),"Card",0,({children:e,className:s,title:t,noPadding:l})=>(0,a.jsxs)("div",{className:`bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden ${s||""}`,children:[t&&(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-50 bg-gray-50/50",children:(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:t})}),(0,a.jsx)("div",{className:l?"":"p-6",children:e})]}),"ImageUpload",0,({className:e,currentImage:t,placeholder:r,onImageUpload:i})=>{let n=s.default.useRef(null);return(0,a.jsxs)("div",{className:`relative border-2 border-dashed border-gray-300 bg-gray-50 hover:bg-gray-100 hover:border-brand-500 transition-colors cursor-pointer overflow-hidden flex flex-col items-center justify-center ${e||""}`,onClick:()=>n.current?.click(),children:[(0,a.jsx)("input",{type:"file",ref:n,className:"hidden",accept:"image/*",onChange:e=>{let a=e.target.files?.[0];if(a){let e=new FileReader;e.onloadend=()=>{"string"==typeof e.result&&i(e.result)},e.readAsDataURL(a)}}}),t?(0,a.jsx)("img",{src:t,alt:"Preview",className:"w-full h-full object-cover"}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 text-gray-400",children:[(0,a.jsx)(l,{className:"w-8 h-8 mb-2"}),(0,a.jsx)("span",{className:"text-xs text-center",children:r||"Upload"})]})]})},"Input",0,({label:e,className:s,...t})=>(0,a.jsxs)("div",{className:"mb-4",children:[e&&(0,a.jsx)("label",{className:"block text-xs font-bold text-gray-500 uppercase tracking-wider mb-1.5 ml-1",children:e}),(0,a.jsx)("input",{className:`w-full px-4 py-3 border border-gray-200 rounded-xl bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-brand-500 transition-all font-medium ${s||""}`,...t})]}),"MobileNav",0,({children:e})=>(0,a.jsx)("div",{className:"flex justify-around items-center h-16 px-2",children:e}),"MobileNavItem",0,({icon:e,label:t,active:l,onClick:r})=>(0,a.jsxs)("button",{onClick:r,className:`flex flex-col items-center justify-center w-full h-full space-y-1 transition-all active:scale-95 ${l?"text-brand-600":"text-gray-400 hover:text-gray-600"}`,children:[(0,a.jsx)("div",{className:`${l?"bg-brand-50 p-1.5 rounded-xl":""} transition-all duration-300`,children:s.default.cloneElement(e,{size:24,strokeWidth:l?2.5:2,className:l?"animate-bounce-subtle":""})}),(0,a.jsx)("span",{className:`text-[10px] font-bold leading-none ${l?"text-brand-700":""}`,children:t})]}),"Modal",0,({isOpen:e,onClose:s,title:t,children:l})=>e?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"bg-white w-full sm:max-w-md rounded-t-3xl sm:rounded-3xl shadow-2xl animate-in slide-in-from-bottom duration-300 sm:zoom-in-95 overflow-hidden max-h-[90vh] flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-100",children:[(0,a.jsx)("h3",{className:"font-bold text-xl text-gray-900",children:t}),(0,a.jsx)("button",{onClick:s,className:"p-2 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200 transition-colors",children:(0,a.jsx)(r.X,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:l})]})}):null],92891)},84614,e=>{"use strict";let a=(0,e.i(75254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>a],84614)},70756,e=>{"use strict";let a=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],70756)},94351,e=>{"use strict";let a=(0,e.i(75254).default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);e.s(["Home",()=>a],94351)},55436,e=>{"use strict";let a=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>a],55436)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},3116,73375,e=>{"use strict";var a=e.i(75254);let s=(0,a.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>s],3116);let t=(0,a.default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},87316,e=>{"use strict";let a=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>a],87316)},70273,e=>{"use strict";let a=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>a],70273)},27612,e=>{"use strict";let a=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>a],27612)},88511,e=>{"use strict";let a=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>a],88511)},78940,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),l=e.i(29477),r=e.i(92891),i=e.i(87316),n=e.i(3116),d=e.i(46897),c=e.i(69638),o=e.i(84614),x=e.i(73375),m=e.i(70756),h=e.i(94351),g=e.i(48256),u=e.i(23102),p=e.i(83157),b=e.i(94983),f=e.i(50965),j=e.i(27612),y=e.i(73708),v=e.i(55436),N=e.i(88511),w=e.i(70273);let k=({rating:e,editable:s=!1,onRate:t,size:l=20,showCount:r=!1,count:i=0})=>{let n=[];for(let r=1;r<=5;r++){let i=r<=e,d=!i&&r-.5<=e;n.push((0,a.jsx)("button",{type:"button",disabled:!s,onClick:()=>s&&t&&t(r),className:`${s?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"} focus:outline-none`,children:i?(0,a.jsx)(w.Star,{size:l,className:"fill-yellow-400 text-yellow-400"}):d?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(w.Star,{size:l,className:"text-gray-300"}),(0,a.jsx)("div",{className:"absolute top-0 left-0 overflow-hidden w-1/2",children:(0,a.jsx)(w.Star,{size:l,className:"fill-yellow-400 text-yellow-400"})})]}):(0,a.jsx)(w.Star,{size:l,className:"text-gray-300"})},r))}return(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[n,r&&(0,a.jsxs)("span",{className:"text-sm text-gray-500 ml-2",children:["(",i,")"]})]})},M=({reviews:e})=>{if(!e||0===e.length)return(0,a.jsx)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-gray-500",children:"Ainda não há avaliações. Seja o primeiro a avaliar!"})});let s=[...e].sort((e,a)=>new Date(a.date).getTime()-new Date(e.date).getTime());return(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-800",children:e.clientName}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.date).toLocaleDateString()})]}),(0,a.jsx)(k,{rating:e.rating,size:16})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.comment})]},e.id))})},C=(0,e.i(75254).default)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),S=({isOpen:e,onClose:t,salonName:l,serviceName:i,date:n,onJoin:d})=>{let[c,o]=(0,s.useState)(""),[x,m]=(0,s.useState)("");return(0,a.jsx)(r.Modal,{isOpen:e,onClose:t,title:"Entrar na Lista de Espera",children:(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-brand-100 rounded-full flex items-center justify-center mx-auto text-brand-600 mb-2",children:(0,a.jsx)(C,{className:"w-8 h-8"})}),(0,a.jsxs)("p",{className:"text-gray-600",children:["O horário desejado para ",(0,a.jsx)("strong",{children:i})," em ",(0,a.jsx)("strong",{children:l})," está indisponível?"]}),(0,a.jsx)("div",{className:"bg-amber-50 text-amber-800 p-3 rounded-lg text-sm font-medium",children:"Seja avisado assim que vagar!"}),(0,a.jsxs)("div",{className:"space-y-3 text-left",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"Seu Telefone"}),(0,a.jsx)(r.Input,{placeholder:"(11) 99999-9999",value:c,onChange:e=>o(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-gray-500 uppercase ml-1",children:"E-mail (Opcional)"}),(0,a.jsx)(r.Input,{placeholder:"seu@email.com",value:x,onChange:e=>m(e.target.value)})]})]}),(0,a.jsx)(r.Button,{className:"w-full py-3",onClick:()=>{c&&(d(c,x),t())},children:"Quero ser avisado"})]})})},A=({salonId:e,professionalId:t,fromPortal:k,clientPhone:C,onBack:A,onAdminAccess:I})=>{let{salons:$,addAppointment:D,saveClient:z,getClientByPhone:T}=(0,l.useStore)(),P=$.find(a=>a.id===e),[B,q]=(0,s.useState)(+!!k),[L,H]=(0,s.useState)("home"),[E,F]=(0,s.useState)(null),[O,R]=(0,s.useState)(null),[V,U]=(0,s.useState)(""),[G,Q]=(0,s.useState)(""),[W,_]=(0,s.useState)(!1),[J,K]=(0,s.useState)([]),[X,Y]=(0,s.useState)(""),[Z,ee]=(0,s.useState)(""),[ea,es]=(0,s.useState)(""),[et,el]=(0,s.useState)(!1),[er,ei]=(0,s.useState)(!1),[en,ed]=(0,s.useState)(!1),[ec,eo]=(0,s.useState)(!1),[ex,em]=(0,s.useState)(!1),[eh,eg]=(0,s.useState)(""),[eu,ep]=(0,s.useState)([]),[eb,ef]=(0,s.useState)(!1),[ej,ey]=(0,s.useState)(0),[ev,eN]=(0,s.useState)(""),ew=(0,s.useRef)(null);if((0,s.useEffect)(()=>{if(t&&P){let e=P.professionals.find(e=>e.id===t);e&&R(e)}if(k&&C){Y(C);let e=T(C);e&&(ee(e.name),es(e.birthDate),ei(!0),el(!1))}},[t,P,k,C]),(0,s.useEffect)(()=>{if(3===B&&(er||k&&!en)){let e=setTimeout(()=>{ew.current?.scrollIntoView({behavior:"smooth",block:"center"})},300);return()=>clearTimeout(e)}},[er,k,en,B]),!P)return(0,a.jsx)("div",{children:"Salão não encontrado"});let ek=P.products?.filter(e=>e.isForSale&&e.quantity>0)||[],eM=J.reduce((e,a)=>e+(a.salePrice||0),0),eC=(E?.price||0)+eM,eS=(()=>{if(!V||!P.openTime||!P.closeTime)return[];let e=60*parseInt(P.openTime.split(":")[0])+parseInt(P.openTime.split(":")[1]),a=60*parseInt(P.closeTime.split(":")[0])+parseInt(P.closeTime.split(":")[1]),s=P.slotInterval||30,t=E?E.durationMinutes:s,l=new Date,r=l.getFullYear(),i=String(l.getMonth()+1).padStart(2,"0"),n=String(l.getDate()).padStart(2,"0"),d=V===`${r}-${i}-${n}`,c=60*l.getHours()+l.getMinutes(),o=[];for(let l=e;l<a;l+=s)if(!(d&&l<=c+15||l+t>a||P.blockedPeriods?.some(e=>e.date===V&&(!e.professionalId||e.professionalId===O?.id)))&&!P.appointments.some(e=>{if("cancelled"===e.status||O&&e.professionalId!==O.id||!e.date.startsWith(V))return!1;let a=new Date(e.date),s=60*a.getHours()+a.getMinutes(),r=P.services.find(a=>a.id===e.serviceId),i=s+(r?r.durationMinutes:P.slotInterval||30),n=l+t;return l<i&&n>s})){let e=Math.floor(l/60),a=l%60,s=`${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`;o.push(s)}return o})();(0,s.useEffect)(()=>{(!k||en)&&(()=>{let e=X.replace(/\D/g,"");if(e.length>=8){let a=T(e);a?(ee(a.name),es(a.birthDate),el(!1),ei(!0)):e.length>=10&&(el(!0),ei(!0))}})()},[X,en]);let eA=(0,a.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-white border-b border-gray-100 shadow-sm z-30 relative",children:[B>0&&B<4&&!k||B>1&&k?(0,a.jsx)("button",{onClick:()=>q(B-1),className:"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100",children:(0,a.jsx)(x.ChevronLeft,{className:"w-6 h-6"})}):k?(0,a.jsx)("button",{onClick:A,className:"p-2 -ml-2 text-gray-600 rounded-full active:bg-gray-100",children:(0,a.jsx)(x.ChevronLeft,{className:"w-6 h-6"})}):(0,a.jsx)("div",{className:"w-10"}),!k&&(0,a.jsxs)("button",{className:"relative flex-shrink-0 group",onClick:()=>I(P.id),title:"Acesso do Proprietário",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-brand-100 rounded-full overflow-hidden border-2 border-white shadow-md",children:P.coverImage?(0,a.jsx)("img",{src:P.coverImage,className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-brand-600 font-bold text-lg",children:P.name[0]})}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-full p-0.5 shadow-lg border border-gray-100",children:(0,a.jsx)("div",{className:"bg-gray-900 p-1.5 rounded-full hover:bg-black transition-colors",children:(0,a.jsx)(m.Lock,{className:"w-3 h-3 text-white"})})})})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h1",{className:"font-bold text-gray-900 truncate text-base leading-tight",children:P.name}),k&&(0,a.jsx)("span",{className:"text-xs text-brand-600 font-bold",children:"Agendamento"}),O&&B>0&&B<4&&(0,a.jsxs)("div",{className:"text-xs font-bold text-brand-600 flex items-center gap-1 animate-pulse",children:["Agendando com ",O.name]})]})]});return(0,a.jsx)(r.AppShell,{header:B>0?eA:void 0,bottomNav:k?(0,a.jsxs)(r.MobileNav,{children:[(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(h.Home,{}),label:"Home",onClick:A}),(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(i.Calendar,{}),label:"Agenda",active:!0,onClick:()=>{}}),(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(o.User,{}),label:"Perfil",onClick:A})]}):(0,a.jsxs)(r.MobileNav,{children:[(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(h.Home,{}),label:"Início",active:0===B&&"home"===L,onClick:()=>{q(0),H("home")}}),(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(y.Image,{}),label:"Galeria",active:0===B&&"gallery"===L,onClick:()=>{q(0),H("gallery")}}),(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(w.Star,{}),label:"Avaliações",active:0===B&&"reviews"===L,onClick:()=>{q(0),H("reviews")}}),(0,a.jsx)(r.MobileNavItem,{icon:(0,a.jsx)(i.Calendar,{}),label:"Agendar",active:B>0,onClick:()=>{0===B&&q(1)}})]}),children:(0,a.jsxs)("div",{className:`flex flex-col min-h-full ${0===B?"bg-gray-50":"p-4"}`,children:[0===B&&(0,a.jsxs)("div",{className:"animate-in fade-in duration-500",children:["home"===L&&(0,a.jsxs)("div",{className:"space-y-6 pb-24",children:[(0,a.jsxs)("div",{className:"relative w-full h-72",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-900",children:(0,a.jsx)("img",{src:P.coverImage||`https://picsum.photos/seed/${P.id}/800/800`,className:"w-full h-full object-cover opacity-80"})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[(0,a.jsx)(r.Badge,{color:"green",className:"mb-2 bg-green-500/20 text-green-100 border border-green-500/30 backdrop-blur-md",children:"Aberto Agora"}),(0,a.jsx)("h1",{className:"text-3xl font-bold mb-1 shadow-sm",children:P.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-200 flex items-center gap-1 opacity-90",children:[(0,a.jsx)(d.MapPin,{className:"w-4 h-4"})," ",P.address]})]})]}),(0,a.jsxs)("div",{className:"px-4 -mt-6 relative z-10",children:[(0,a.jsx)(r.Button,{className:"w-full py-4 text-lg font-bold shadow-xl shadow-brand-500/30 mb-6",onClick:()=>q(1),children:"Agendar Agora"}),(0,a.jsxs)(r.Card,{className:"mb-4",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Bem-vindo"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed text-sm",children:P.aboutUs||"Bem-vindo ao nosso espaço! Oferecemos os melhores serviços para cuidar da sua beleza e bem-estar."})]}),(0,a.jsxs)("div",{onClick:()=>eo(!0),className:"bg-blue-50 border border-blue-100 p-4 rounded-xl flex items-center justify-between cursor-pointer active:scale-[0.98] transition-transform",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"bg-blue-100 p-2 rounded-full",children:(0,a.jsx)(v.Search,{className:"w-5 h-5 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-blue-900 text-sm",children:"Meus Agendamentos"}),(0,a.jsx)("div",{className:"text-xs text-blue-600",children:"Esqueceu o horário? Consulte aqui."})]})]}),(0,a.jsx)("div",{className:"bg-white p-1 rounded-full text-blue-500",children:(0,a.jsx)(x.ChevronLeft,{className:"w-4 h-4 rotate-180"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[P.socials?.whatsapp&&(0,a.jsxs)("a",{href:`https://wa.me/${P.socials.whatsapp}`,target:"_blank",className:"bg-green-50 p-3 rounded-xl flex flex-col items-center gap-1 text-green-700 hover:bg-green-100 transition-colors",children:[(0,a.jsx)(b.MessageCircle,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"Whats"})]}),P.socials?.instagram&&(0,a.jsxs)("a",{href:`https://instagram.com/${P.socials.instagram.replace("@","")}`,target:"_blank",className:"bg-purple-50 p-3 rounded-xl flex flex-col items-center gap-1 text-purple-700 hover:bg-purple-100 transition-colors",children:[(0,a.jsx)(u.Instagram,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"Insta"})]}),P.socials?.facebook&&(0,a.jsxs)("a",{href:P.socials.facebook,target:"_blank",className:"bg-blue-50 p-3 rounded-xl flex flex-col items-center gap-1 text-blue-700 hover:bg-blue-100 transition-colors",children:[(0,a.jsx)(p.Facebook,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"Face"})]}),P.socials?.website&&(0,a.jsxs)("a",{href:P.socials.website,target:"_blank",className:"bg-gray-50 p-3 rounded-xl flex flex-col items-center gap-1 text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,a.jsx)(g.Globe,{className:"w-6 h-6"}),(0,a.jsx)("span",{className:"text-[10px] font-bold",children:"Site"})]})]})]})]}),"reviews"===L&&(0,a.jsxs)("div",{className:"space-y-4 p-4 pb-24",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"O que dizem sobre nós"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900 flex items-center gap-1",children:["4.8 ",(0,a.jsx)(w.Star,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"})]}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[P.reviews?.length||0," avaliações"]})]})]}),(0,a.jsx)(M,{reviews:P.reviews||[]}),(0,a.jsxs)("div",{className:"bg-brand-50 p-4 rounded-xl text-center mt-6",children:[(0,a.jsx)("p",{className:"font-bold text-brand-800 mb-2",children:"Já é nosso cliente?"}),(0,a.jsx)(r.Button,{variant:"outline",className:"w-full bg-white",onClick:()=>ef(!0),children:"Avaliar Experiência"})]})]}),"gallery"===L&&(0,a.jsxs)("div",{className:"space-y-4 p-4 pb-24",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Galeria"}),P.gallery&&P.gallery.length>0?(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:P.gallery.map((e,s)=>(0,a.jsx)("div",{className:"aspect-square rounded-xl overflow-hidden bg-gray-100",children:(0,a.jsx)("img",{src:e,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-500"})},s))}):(0,a.jsxs)("div",{className:"text-center py-10 text-gray-400 bg-gray-50 rounded-xl",children:[(0,a.jsx)(y.Image,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),(0,a.jsx)("p",{children:"Nenhuma foto na galeria."})]})]}),"about"===L&&(0,a.jsxs)("div",{className:"space-y-6 p-4 pb-24",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Sobre Nós"}),(0,a.jsx)("p",{className:"text-gray-600 leading-relaxed text-sm",children:P.aboutUs||"Descrição não informada."})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(d.MapPin,{className:"w-4 h-4 text-brand-500"})," Endereço"]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:P.address}),(0,a.jsx)("div",{className:"mt-3 h-32 bg-gray-200 rounded-lg w-full flex items-center justify-center text-gray-400 text-xs",children:"Mapa Simulado"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[(0,a.jsxs)("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[(0,a.jsx)(n.Clock,{className:"w-4 h-4 text-brand-500"})," Horário de Funcionamento"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Segunda a Sexta"}),(0,a.jsxs)("span",{className:"font-bold text-gray-900",children:[P.openTime," - ",P.closeTime]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Sábado"}),(0,a.jsxs)("span",{className:"font-bold text-gray-900",children:[P.openTime," - 16:00"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Domingo"}),(0,a.jsx)("span",{className:"text-red-500 font-bold",children:"Fechado"})]})]})]})]})]}),B>0&&B<4&&(0,a.jsx)("div",{className:"flex gap-2 mb-6 px-1",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:`h-1.5 flex-1 rounded-full transition-all duration-300 ${B>=e?"bg-brand-600":"bg-gray-200"}`},e))}),1===B&&(0,a.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escolha o Serviço"}),(0,a.jsx)("div",{className:"space-y-3",children:P.services.map(e=>(0,a.jsxs)("div",{onClick:()=>{F(e),O?q(3):q(2)},className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex justify-between items-center active:scale-[0.98] transition-transform",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-gray-800",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.durationMinutes," min"]})]}),(0,a.jsxs)("span",{className:"font-bold text-brand-600 bg-brand-50 px-2 py-1 rounded text-sm",children:["R$ ",e.price.toFixed(0)]})]},e.id))})]}),2===B&&(0,a.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Escolha o Profissional"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{onClick:()=>{R(P.professionals[0]),q(3)},className:"bg-white p-4 rounded-xl border border-dashed border-gray-300 flex flex-col items-center justify-center text-center gap-2 active:bg-gray-50",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center text-gray-400",children:(0,a.jsx)(o.User,{className:"w-6 h-6"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"Qualquer um"})]}),P.professionals.map(e=>(0,a.jsxs)("div",{onClick:()=>{R(e),q(3)},className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm flex flex-col items-center justify-center text-center gap-2 active:scale-[0.98] transition-transform",children:[(0,a.jsx)("img",{src:e.avatarUrl,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),(0,a.jsx)("div",{children:(0,a.jsx)("h4",{className:"font-bold text-sm text-gray-900",children:e.name})})]},e.id))]})]}),3===B&&(0,a.jsxs)("div",{className:"animate-in slide-in-from-right-4 duration-300 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Data e Hora"}),(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-brand-600",children:(0,a.jsx)(i.Calendar,{className:"w-5 h-5"})}),(0,a.jsx)("input",{type:"date",className:"w-full border border-gray-200 rounded-xl pl-12 pr-4 py-3 bg-white font-medium text-gray-900 outline-none focus:border-brand-500 appearance-none min-h-[50px] shadow-sm",value:V,onChange:e=>{U(e.target.value),Q("")},style:{WebkitAppearance:"none"}})]}),eS.length>0?(0,a.jsx)("div",{className:"grid grid-cols-4 gap-2",children:eS.map(e=>(0,a.jsx)("button",{onClick:()=>{Q(e),ek.length>0&&_(!0)},className:`py-2 rounded-lg text-sm font-bold border transition-colors ${G===e?"bg-brand-600 text-white border-brand-600":"bg-white text-gray-600 border-gray-200"}`,children:e},e))}):V&&(0,a.jsxs)("div",{className:"text-center py-6",children:[(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:"Nenhum horário disponível para esta data."}),(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>em(!0),children:"Avise-me quando vagar"})]}),eS.length>0&&(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>em(!0),className:"text-sm text-brand-600 underline font-medium",children:"Não achou um horário bom? Entre na lista de espera."})})]}),(0,a.jsx)(S,{isOpen:ex,onClose:()=>em(!1),salonName:P.name,serviceName:E?.name,onJoin:(e,a)=>{alert(`Voc\xea entrou na lista de espera! Avisaremos no ${e}.`)}}),(0,a.jsx)(r.Modal,{isOpen:W,onClose:()=>_(!1),title:"Lojinha do Salão",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-brand-50 p-3 rounded-lg text-sm text-brand-800",children:"Aproveite e leve produtos profissionais para casa!"}),(0,a.jsx)("div",{className:"space-y-3",children:ek.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-gray-100 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:e.image||"https://via.placeholder.com/100",className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-bold text-sm text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-brand-600 font-bold",children:["R$ ",e.salePrice?.toFixed(2)]})]})]}),(0,a.jsx)(r.Button,{onClick:()=>{K([...J,e])},className:"px-3 py-1 text-xs",children:"Adicionar"})]},e.id))}),J.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-100 pt-4 mt-4",children:[(0,a.jsx)("h4",{className:"font-bold text-sm mb-2",children:"Seu Carrinho"}),J.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm py-1",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{children:["R$ ",e.salePrice?.toFixed(2)]}),(0,a.jsx)("button",{onClick:()=>{let e;(e=[...J]).splice(s,1),K(e)},className:"text-red-500",children:(0,a.jsx)(j.Trash2,{className:"w-3 h-3"})})]})]},s)),(0,a.jsxs)("div",{className:"flex justify-between font-bold mt-2 pt-2 border-t border-dashed border-gray-200",children:[(0,a.jsx)("span",{children:"Total Produtos"}),(0,a.jsxs)("span",{children:["R$ ",eM.toFixed(2)]})]})]}),(0,a.jsx)(r.Button,{className:"w-full",onClick:()=>_(!1),children:"Concluir Seleção"})]})}),G&&(0,a.jsxs)("div",{className:"animate-in fade-in slide-in-from-bottom-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Seus Dados"}),k&&er&&!en?(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4 shadow-sm mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-bold text-gray-500 uppercase",children:"Confirmar Dados"}),(0,a.jsxs)("button",{onClick:()=>ed(!0),className:"text-brand-600 text-xs font-bold flex items-center gap-1",children:[(0,a.jsx)(N.Edit,{className:"w-3 h-3"})," Editar"]})]}),(0,a.jsx)("div",{className:"font-bold text-gray-900 text-lg",children:Z}),(0,a.jsx)("div",{className:"text-gray-600",children:X})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("input",{type:"tel",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none mb-3",placeholder:"Seu Telefone (DDD + Número)",value:X,onChange:e=>{Y(e.target.value),ei(!1)}})}),(er||k&&!en)&&(0,a.jsxs)("div",{className:"space-y-3",children:[et||en?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{type:"text",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"Seu Nome Completo",value:Z,onChange:e=>ee(e.target.value)}),(0,a.jsx)("input",{type:"tel",className:"w-full border border-gray-200 rounded-xl px-4 py-3 bg-white outline-none",placeholder:"Data de Nascimento (DD/MM/AAAA)",value:ea,maxLength:10,onChange:e=>{let a;(a=e.target.value.replace(/\D/g,"")).length>8&&(a=a.slice(0,8)),a.length>4?a=`${a.slice(0,2)}/${a.slice(2,4)}/${a.slice(4)}`:a.length>2&&(a=`${a.slice(0,2)}/${a.slice(2)}`),es(a)}})]}):!k&&(0,a.jsxs)("div",{className:"text-sm text-green-600 bg-green-50 p-3 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(c.CheckCircle,{className:"w-4 h-4"})," Olá, ",Z,"!"]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-xl mt-4 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Serviço"}),(0,a.jsxs)("span",{className:"font-bold",children:["R$ ",E?.price.toFixed(2)]})]}),J.length>0&&(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f.ShoppingBag,{className:"w-3 h-3"})," Produtos (",J.length,")"]}),(0,a.jsxs)("span",{children:["R$ ",eM.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold border-t border-gray-200 pt-2 mt-2",children:[(0,a.jsx)("span",{children:"Total"}),(0,a.jsxs)("span",{className:"text-brand-600",children:["R$ ",eC.toFixed(2)]})]})]}),(0,a.jsx)("div",{ref:ew,children:(0,a.jsx)(r.Button,{className:"w-full py-4 text-lg font-bold shadow-xl shadow-brand-200",onClick:()=>{if(E&&O&&V&&G&&Z&&X){(et||en)&&z({id:Math.random().toString(36).substr(2,9),name:Z,phone:X,birthDate:ea});let e=new Date(`${V}T${G}:00`).toISOString();D(P.id,{id:Math.random().toString(36).substr(2,9),salonId:P.id,serviceId:E.id,professionalId:O.id,clientName:Z,clientPhone:X,date:e,status:"scheduled",price:E.price,products:J}),q(4),window.scrollTo(0,0)}},children:"Confirmar Agendamento"})})]})]})]}),4===B&&(0,a.jsxs)("div",{className:"fixed inset-0 bg-white z-[60] flex flex-col items-center justify-center p-4 text-center animate-in zoom-in-95",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center text-green-600 mb-6 animate-bounce",children:(0,a.jsx)(c.CheckCircle,{className:"w-12 h-12"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Agendamento Confirmado!"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-8 max-w-xs mx-auto text-lg",children:["Te esperamos dia ",(0,a.jsx)("span",{className:"font-bold",children:new Date(V+"T00:00:00").toLocaleDateString()})," às ",(0,a.jsx)("span",{className:"font-bold",children:G}),"."]}),(0,a.jsx)("div",{className:"w-full max-w-xs space-y-3",children:(0,a.jsx)(r.Button,{className:"w-full py-3",onClick:()=>{k?A():(q(0),F(null),R(null),U(""),Q(""),K([]),H("home"))},children:"Voltar ao Início"})})]}),(0,a.jsx)(r.Modal,{isOpen:eb,onClose:()=>ef(!1),title:"Avaliar Experiência",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("p",{className:"text-gray-600 mb-4",children:["Quantas estrelas você dá para o ",P.name,"?"]}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mb-4",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>ey(e),className:"transition-transform hover:scale-110",children:(0,a.jsx)(w.Star,{className:`w-8 h-8 ${e<=ej?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Seu Comentário (Opcional)"}),(0,a.jsx)("textarea",{className:"w-full border border-gray-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-brand-500 outline-none transition-all",rows:4,placeholder:"Conte como foi sua experiência...",value:ev,onChange:e=>eN(e.target.value)})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(r.Button,{variant:"outline",onClick:()=>ef(!1),children:"Cancelar"}),(0,a.jsx)(r.Button,{onClick:()=>{if(0===ej)return;let{addReview:e}=(0,l.useStore)();e(P.id,{id:Math.random().toString(36).substr(2,9),salonId:P.id,clientName:"Anônimo",rating:ej,comment:ev,date:new Date().toISOString()}),ef(!1),ey(0),eN(""),alert("Obrigado pela sua avaliação!")},disabled:0===ej,children:"Enviar Avaliação"})]})]})}),(0,a.jsx)(r.Modal,{isOpen:ec,onClose:()=>eo(!1),title:"Meus Agendamentos",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Digite seu telefone para ver seus próximos horários neste salão."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(r.Input,{placeholder:"Telefone (DDD+Número)",value:eh,onChange:e=>eg(e.target.value),className:"mb-0"}),(0,a.jsx)(r.Button,{onClick:()=>{eh&&ep(P.appointments.filter(e=>e.clientPhone===eh&&"cancelled"!==e.status).sort((e,a)=>new Date(e.date).getTime()-new Date(a.date).getTime()))},children:(0,a.jsx)(v.Search,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto",children:eu.length>0?eu.map(e=>(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-xl border border-gray-200",children:[(0,a.jsxs)("div",{className:"font-bold text-gray-900",children:[new Date(e.date).toLocaleDateString()," às ",new Date(e.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:P.services.find(a=>a.id===e.serviceId)?.name}),(0,a.jsxs)("div",{className:"text-xs text-brand-600 font-medium mt-1",children:["Com ",P.professionals.find(a=>a.id===e.professionalId)?.name]})]},e.id)):eh&&(0,a.jsx)("div",{className:"text-center text-sm text-gray-400 py-4",children:"Nenhum agendamento futuro encontrado."})}),(0,a.jsx)(r.Button,{variant:"outline",className:"w-full",onClick:()=>eo(!1),children:"Fechar"})]})})]})})};function I({params:e}){let s=(0,t.useRouter)(),l=(0,t.useSearchParams)(),{salonId:r}=e,i=l.get("proId")||void 0,n=l.get("clientPhone")||void 0,d="true"===l.get("fromPortal");return(0,a.jsx)(A,{salonId:r,professionalId:i,clientPhone:n,fromPortal:d,onBack:()=>{d&&n?s.push(`/portal?phone=${n}`):s.push("/directory")},onAdminAccess:e=>s.push(`/login?context=tenant&salonId=${e}`)})}function $({params:e}){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{children:"Carregando..."}),children:(0,a.jsx)(I,{params:e})})}e.s(["default",()=>$],78940)}]);